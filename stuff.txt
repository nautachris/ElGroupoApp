import contact - dont necessarily send out invites, just associate email addresses with your personal account


login to coord
redirected to
https://pocsidsvr.azurewebsites.net/connect/authorize?
response_type=id_token token
&client_id=Coordinate
&login_hint=00000005-0000-0000-0000-000000000000
&redirect_uri=http://localhost:9629/home
&scope=contacts wte coordinate profile openid
&nonce=N0.78554378885402641506529806642
&state=15065298066420.45487115444783055


id server does it's magic and redirects to our id server login controller (note that returnUrl is the only query string parameter)

https://pocsidsvr.azurewebsites.net/account/login?
returnUrl=/connect/authorize/login?response_type=id_token token&client_id=Coordinate
&login_hint=00000005-0000-0000-0000-000000000000&redirect_uri=http://localhost:9629/home&scope=contacts wte coordinate profile openid&nonce=N0.78554378885402641506529806642&state=15065298066420.45487115444783055


which in turn redirects back to idserver
https://pocsidsvr.azurewebsites.net/connect/authorize/login?
response_type=id_token token
&client_id=Coordinate
&login_hint=00000005-0000-0000-0000-000000000000
&redirect_uri=http://localhost:9629/home
&scope=contacts wte coordinate profile openid
&nonce=N0.78554378885402641506529806642
&state=15065298066420.45487115444783055

which finally redirects back to our site (the location response header)
http://localhost:9629/home#
id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6ImQ2MmJhM2Y5MzJmZjQzNDNmNjI1ZDExNzk2YTIwZThhIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY1Mjk4MDcsImV4cCI6MTUwNjUzMDEwNywiaXNzIjoiaHR0cHM6Ly9wb2NzaWRzdnIuYXp1cmV3ZWJzaXRlcy5uZXQiLCJhdWQiOiJDb29yZGluYXRlIiwibm9uY2UiOiJOMC43ODU1NDM3ODg4NTQwMjY0MTUwNjUyOTgwNjY0MiIsImlhdCI6MTUwNjUyOTgwNywiYXRfaGFzaCI6Ikh3ZVZmTm5veWlRR1JtX1Niek16d2ciLCJzaWQiOiI1NDhiYjA3ZDhlOWZiZjBlMzAzYjkyOWJiY2MxOTAyMyIsInN1YiI6IjEwIiwiYXV0aF90aW1lIjoxNTA2NTI5ODA3LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.qXXYcANiKHoY2dz3jqS9vu1hzzJub_NI5baIiV0s6ah3f6ZlLpu8VwywZHMXQGmxe6GfmEW70HFIhM2n082usgjvfRiRfAExHo47KurGA_B_IND8plFQhOafm5oUjt206fVNr1ckaY8zfwH6deOnLETh4ggQpOt7T8pdDtH4MkhYDPz620IEC417nww4WXKmBkRvVD54cxwhG87XT5Q5ANV5imGmaiAIuzLcmlgWlJC7qS4fMmbyeFKmSQtMYyV6k_z9-6CIXN96MpjqliY4TDMI6LfxB4uL6g0eKDXdGcVBSdPsaQY6jSTY7yaVbcyOHyKGRbmQ_q-0IfaIa5neRA&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6ImQ2MmJhM2Y5MzJmZjQzNDNmNjI1ZDExNzk2YTIwZThhIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY1Mjk4MDcsImV4cCI6MTUwNjUzMzQwNywiaXNzIjoiaHR0cHM6Ly9wb2NzaWRzdnIuYXp1cmV3ZWJzaXRlcy5uZXQiLCJhdWQiOlsiaHR0cHM6Ly9wb2NzaWRzdnIuYXp1cmV3ZWJzaXRlcy5uZXQvcmVzb3VyY2VzIiwiY29udGFjdHMiLCJ3dGUiLCJjb29yZGluYXRlIl0sImNsaWVudF9pZCI6IkNvb3JkaW5hdGUiLCJzdWIiOiIxMCIsImF1dGhfdGltZSI6MTUwNjUyOTgwNywiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJwcm9maWxlIiwib3BlbmlkIiwiY29udGFjdHMiLCJ3dGUiLCJjb29yZGluYXRlIl0sImFtciI6WyJwd2QiXX0.egj20ztZ1RKRR52el9nF1lTNcexuE6uu_YWC6OF6roulhhxh0DZvKP4TZlVu8dXirPCuAMNEkIWx2Hm5JFxzzR7RHoRkMwu0QhP04D9rqUNnKjYPigrrxxBj9NrjX3EpW70SmvO1We0TkDjkqN1O5qK2c62WXZWk6aN3NaFpZ1uXmwCuSpDpUGQY19LN_ey6c2RS_9Cb2WYDCU9hz6ZBAsVaPfUERVFxpNNAbprUL7o--WH7Xjzd25PheKrzspO184QeVGCGk5Lg1N7ERMlFfu1anwJ3Xet8qn9m2ufWMW3RZJzwKI3JRVtaao6dVb2mrdM5-ZieVAiWGfnYHdIdqQ
&token_type=Bearer
&expires_in=3600
&scope=profile openid contacts wte coordinate
&state=15065298066420.45487115444783055
&session_state=tBuG5dN9pdjUE_GbC1rhVBEhMrHjL2_IxPVOixCsSYE.65ad054f12151ee7c314fe80ae7394f8



wte authorization

https://tools.ietf.org/html/rfc6749
grant types
client credentials grant

set of creds issued to wte process
json post body callback

config records to issue client credentials pocs.auth
