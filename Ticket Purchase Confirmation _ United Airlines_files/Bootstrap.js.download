(function ensightenInit(){var ensightenOptions = {client: "united", clientId: 673, publishPath: "UnitedProd", isPublic:0, serverComponentLocation: "nexus.ensighten.com/united/UnitedProd/serverComponent.php", staticJavascriptPath: "nexus.ensighten.com/united/UnitedProd/code/", ns: 'Bootstrapper', nexus:"nexus.ensighten.com", scUseCacheBuster: "true", enableTagAuditBeacon : "false", enablePagePerfBeacon : "false", registryNs : "ensBootstraps", generatedOn : "Wed Jan 31 04:02:50 GMT 2018", beaconSamplingSeedValue: 11};
if ( !window[ensightenOptions.ns] ) {
window[ensightenOptions.registryNs]||(window[ensightenOptions.registryNs]={});
window[ensightenOptions.registryNs][ensightenOptions.ns]=window[ensightenOptions.ns]=function(f){function l(a){this.name="DependencyNotAvailableException";this.message="Dependency with id "+a+"is missing"}function m(a){this.name="BeaconException";this.message="There was an error durring beacon initialization";a=a||{};this.lineNumber=a.lineNumber||a.line;this.fileName=a.fileName}function n(){for(var a=b.dataDefinitionIds.length,d=!0,e=0;e<a;e++){var c=b.dataDefinitions[b.dataDefinitionIds[e]];if(!c||
null==c.endRegistration){d=!1;break}}d&&b.callOnDataDefintionComplete()}var c={},b={};b.ensightenOptions=ensightenOptions;b.scDataObj={};c.version="1.26.0";c.nexus=f.nexus||"nexus.ensighten.com";c.rand=-1;c.currSec=(new Date).getSeconds();c.options={interval:f.interval||100,erLoc:f.errorLocation||c.nexus+"/error/e.gif",scLoc:f.serverComponentLocation||c.nexus+"/"+f.client+"/serverComponent.php",sjPath:f.staticJavascriptPath||c.nexus+"/"+f.client+"/code/",alLoc:f.alertLocation||c.nexus+"/alerts/a.gif",
publishPath:f.publishPath,isPublic:f.isPublic,client:f.client,clientId:f.clientId,enableTagAuditBeacon:f.enableTagAuditBeacon,scUseCacheBuster:f.scUseCacheBuster,beaconSamplingSeedValue:f.beaconSamplingSeedValue||-1};c.ruleList=[];c.allDeploymentIds=[];c.runDeploymentIds=[];c.runRuleIds=[];c.exceptionList=[];c.ensightenVariables={};c.test=function(a){if(!(a.executionData.hasRun||a.executionData.runTime&&0<a.executionData.runTime.length)){for(var d=0;d<a.dependencies.length;d++)if(!1===a.dependencies[d]())return;
a.execute()}};l.prototype=Error();l.prototype||(l.prototype={});l.prototype.constructor=l;c.DependencyNotAvailableException=l;m.prototype=Error();m.prototype||(m.prototype={});m.prototype.constructor=m;c.BeaconException=m;c.checkForInvalidDependencies=function(a,d,e,h){for(a=0;a<e.length;a++)if("DEPENDENCYNEVERAVAILABLE"===e[a])return b.currentRuleId=this.id,b.currentDeploymentId=this.deploymentId,b.reportException(new c.DependencyNotAvailableException(h[a])),d&&-1!==d&&c.allDeploymentIds.push(d),
!0;return!1};b.currentRuleId=-1;b.currentDeploymentId=-1;b.reportedErrors=[];b.reportedAlerts=[];b.AF=[];b._serverTime="";b._clientIP="";b.sampleBeacon=function(){var a=!1;try{var d=(c.currSec||0)%20,b=c.options.beaconSamplingSeedValue;-1===b?a=!0:0!==d&&0===b%d&&(a=!0)}catch(h){}return a};b.getServerComponent=function(a){b.callOnGetServerComponent();b.insertScript(window.location.protocol+"//"+c.options.scLoc,!1,a||!0,c.options.scUseCacheBuster)};b.setVariable=function(a,b){c.ensightenVariables[a]=
b};b.getVariable=function(a){return a in c.ensightenVariables?c.ensightenVariables[a]:null};b.testAll=function(){for(var a=0;a<c.ruleList.length;a++)c.test(c.ruleList[a])};b.executionState={DOMParsed:!1,DOMLoaded:!1,dataDefinitionComplete:!1,conditionalRules:!1,readyForServerComponent:!1};b.reportException=function(a){a.timestamp=(new Date).getTime();c.exceptionList.push(a);a=window.location.protocol+"//"+c.options.erLoc+"?msg="+encodeURIComponent(a.message||"")+"&lnn="+encodeURIComponent(a.lineNumber||
a.line||-1)+"&fn="+encodeURIComponent(a.fileName||"")+"&cid="+encodeURIComponent(c.options.clientId||-1)+"&client="+encodeURIComponent(c.options.client||"")+"&publishPath="+encodeURIComponent(c.options.publishPath||"")+"&rid="+encodeURIComponent(b.currentRuleId||-1)+"&did="+encodeURIComponent(b.currentDeploymentId||-1)+"&errorName="+encodeURIComponent(a.name||"");a=b.imageRequest(a);a.timestamp=(new Date).getTime();this.reportedErrors.push(a)};b.Rule=function(a){this.execute=function(){this.executionData.runTime.push(new Date);
b.currentRuleId=this.id;b.currentDeploymentId=this.deploymentId;try{this.code()}catch(d){window[ensightenOptions.ns].reportException(d)}finally{this.executionData.hasRun=!0,-1!==this.deploymentId&&(c.runDeploymentIds.push(this.deploymentId),c.runRuleIds.push(this.id)),b.testAll()}};this.id=a.id;this.deploymentId=a.deploymentId;this.dependencies=a.dependencies||[];this.code=a.code;this.executionData={hasRun:!1,runTime:[]}};b.registerRule=function(a){if(b.getRule(a.id)&&-1!==a.id)return!1;c.ruleList.push(a);
-1!==a.deploymentId&&c.allDeploymentIds.push(a.deploymentId);b.testAll();return!0};b.getRule=function(a){for(var b=0;b<c.ruleList.length;b++)if(c.ruleList[b].id===a)return c.ruleList[b];return!1};b.getRuleList=function(){return c.ruleList};b.clearRuleList=function(){c.ruleList=[]};b.getAllDeploymentIds=function(){return c.allDeploymentIds};b.getRunRuleIds=function(){return c.runRuleIds};b.getRunDeploymentIds=function(){return c.runDeploymentIds};b.hasRuleRun=function(a){return(a=b.getRule(a))?a.executionData.hasRun:
!1};c.toTwoChar=function(a){return(2===a.toString().length?"":"0")+a};b.Alert=function(a){var b=new Date,b=b.getFullYear()+"-"+c.toTwoChar(b.getMonth())+"-"+c.toTwoChar(b.getDate())+" "+c.toTwoChar(b.getHours())+":"+c.toTwoChar(b.getMinutes())+":"+c.toTwoChar(b.getSeconds());this.severity=a.severity||1;this.subject=a.subject||"";this.type=a.type||1;this.ruleId=a.ruleId||-1;this.severity=encodeURIComponent(this.severity);this.date=encodeURIComponent(b);this.subject=encodeURIComponent(this.subject);
this.type=encodeURIComponent(this.type)};b.generateAlert=function(a){a=b.imageRequest(window.location.protocol+"//"+c.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&cid="+c.options.clientId+"&client="+c.options.client+"&publishPath="+c.options.publishPath+"&rid="+b.currentRuleId+"&did="+b.currentDeploymentId);a.timestamp=(new Date).getTime();this.reportedAlerts.push(a)};b.imageRequest=function(a){var b=new Image(0,0);b.src=a;return b};b.insertScript=function(a,d,e,h){var p=
document.getElementsByTagName("script"),g;h=void 0!==h?h:!0;if(void 0!==d?d:1)for(g=0;g<p.length;g++)if(p[g].src===a&&p[g].readyState&&/loaded|complete/.test(p[g].readyState))return;if(e){e=1==e&&"object"==typeof b.scDataObj?b.scDataObj:e;c.rand=Math.random()*("1E"+(10*Math.random()).toFixed(0));d=window.location.href;"object"===typeof e&&e.PageID&&(d=e.PageID,delete e.PageID);if("object"===typeof e)for(g in e){g=~d.indexOf("#")?d.slice(d.indexOf("#"),d.length):"";d=d.slice(0,g.length?d.length-g.length:
d.length);d+=~d.indexOf("?")?"&":"?";for(k in e)d+=k+"="+e[k]+"&";d=d.slice(0,-1)+g;break}a+="?";h&&(a+="r="+c.rand+"&");a+="ClientID="+encodeURIComponent(c.options.clientId)+"&PageID="+encodeURIComponent(d)}(function(a,b,d){var e=b.head||b.getElementsByTagName("head");setTimeout(function(){if("item"in e){if(!e[0]){setTimeout(arguments.callee,25);return}e=e[0]}var a=b.createElement("script");a.src=d;a.onload=a.onerror=function(){this.addEventListener&&(this.readyState="loaded")};e.insertBefore(a,
e.firstChild)},0)})(window,document,a)};b.loadScriptCallback=function(a,b,e){var d=document.getElementsByTagName("script"),c;e=d[0];for(c=0;c<d.length;c++)if(d[c].src===a&&d[c].readyState&&/loaded|complete/.test(d[c].readyState))try{b()}catch(g){window[ensightenOptions.ns].reportException(g)}finally{return}d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=a;d.onerror=function(){this.addEventListener&&(this.readyState="loaded")};d.onload=d.onreadystatechange=function(){if(!this.readyState||
"complete"===this.readyState||"loaded"===this.readyState){this.onload=this.onreadystatechange=null;this.addEventListener&&(this.readyState="loaded");try{b.call(this)}catch(g){window[ensightenOptions.ns].reportException(g)}}};e.parentNode.insertBefore(d,e)};b.unobtrusiveAddEvent=function(a,b,e){try{var d=a[b]?a[b]:function(){};a[b]=function(){e.apply(this,arguments);return d.apply(this,arguments)}}catch(p){window[ensightenOptions.ns].reportException(p)}};b.anonymous=function(a,d){return function(){try{b.currentRuleId=
d?d:"anonymous",a()}catch(e){window[ensightenOptions.ns].reportException(e)}}};b.setCurrentRuleId=function(a){b.currentRuleId=a};b.setCurrentDeploymentId=function(a){b.currentDeploymentId=a};b.bindImmediate=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDOMParsed=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],
code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDOMLoaded=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindPageSpecificCompletion=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],
code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindOnGetServerComponent=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.readyForServerComponent}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDataDefinitionComplete=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete}],
code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.checkHasRun=function(a){if(0===a.length)return!0;for(var d,e=0;e<a.length;++e)if(d=b.getRule(parseInt(a[e],10)),!d||!d.executionData.hasRun)return!1;return!0};b.bindDependencyImmediate=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,h,e,f)){g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==
typeof a)return!1;b.registerRule(a)}};b.bindDependencyDOMLoaded=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,h,e,f)){g.push(function(){return window[ensightenOptions.ns].executionState.DOMLoaded});g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyDOMParsed=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,
h,e,f)){g.push(function(){return window[ensightenOptions.ns].executionState.DOMParsed});g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyPageSpecificCompletion=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,h,e,f)){g.push(function(){return window[ensightenOptions.ns].executionState.conditionalRules});
g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyOnGetServerComponent=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,h,e,f)){g.push(function(){return window[ensightenOptions.ns].executionState.readyForServerComponent});g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===
typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyPageSpecificCompletion=function(a,d,e,f,p){var g=[];if(!c.checkForInvalidDependencies(d,f,e,p)){g.push(function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete});g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:f||-1,dependencies:g,code:a});else if("object"!==
typeof a)return!1;b.registerRule(a)}};b.dataDefintionIds=[];b.dataDefinitions=[];b.pageSpecificDataDefinitionsSet=!1;b.setPageSpecificDataDefinitionIds=function(a){for(var d=a.length,e=0;e<d;e++){var c=a[e];if(Array.prototype.indexOf)-1==b.dataDefinitionIds.indexOf(c)&&b.dataDefinitionIds.push(c);else{for(var f=!1,g=b.dataDefinitionIds.length,l=0;l<g;l++)if(b.dataDefinitionIds[l]===c){f=!0;break}f||b.dataDefinitionIds.push(c)}}b.pageSpecificDataDefinitionsSet=!0;n()};b.DataDefinition=function(a,b){this.id=
a;this.registrationFn=b;this.endRegistrationTime=this.startRegistrationTime=null;this.startRegistration=function(){this.startRegistrationTime=new Date};this.endRegistration=function(){this.endRegistrationTime=new Date}};b.registerDataDefinition=function(a,d){var e=b.dataDefinitions[d];e||(e=new b.DataDefinition(d,a),b.dataDefinitions[d]=e);e.startRegistrationTime||(e.startRegistration(),e.registrationFn(),e.endRegistration());b.pageSpecificDataDefinitionsSet&&n()};b.callOnDataDefintionComplete=function(){b.executionState.dataDefinitionComplete=
!0;b.testAll()};b.callOnDOMParsed=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].testAll()};b.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].executionState.DOMLoaded=!0;window[ensightenOptions.ns].testAll()};b.callOnPageSpecificCompletion=function(){for(var a=document.getElementsByTagName("script"),b=0,e=a.length;b<e;b++)if(a[b].src&&a[b].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&
"loaded"!=a[b].readyState&&"complete"!=a[b].readyState){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=!0;window[ensightenOptions.ns].testAll()},1)};b.callOnGetServerComponent=function(){window[ensightenOptions.ns].executionState.readyForServerComponent=!0;window[ensightenOptions.ns].testAll()};b.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};b.hasDOMLoaded=
function(){return window[ensightenOptions.ns].executionState.DOMLoaded};b.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};var r=function(){var a=[],b=!1,e=!1;return{add:function(d){b&&!e?d():"function"==typeof d&&(a[a.length]=d)},exec:function(){e=!0;do{var d=a;a=[];b=!0;for(var c=0;c<d.length;c++)try{d[c].call(window)}catch(g){window[ensightenOptions.ns].reportException(g)}}while(0<a.length);e=!1},haveRun:function(){return b}}};b.new_fArray=
function(){return r()};c.timer=null;(function(){function a(a,b){return function(){a.apply(b,arguments)}}window.console||(window.console={});var b=window.console;if(!b.log)if(window.log4javascript){var c=log4javascript.getDefaultLogger();b.log=a(c.info,c);b.debug=a(c.debug,c);b.info=a(c.info,c);b.warn=a(c.warn,c);b.error=a(c.error,c)}else b.log=function(){};b.debug||(b.debug=b.log);b.info||(b.info=b.log);b.warn||(b.warn=b.log);b.error||(b.error=b.log)})();document.addEventListener?(-1<navigator.userAgent.indexOf("AppleWebKit/")?
c.timer=window.setInterval(function(){/loaded|interactive|complete/.test(document.readyState)&&(clearInterval(c.timer),b.callOnDOMParsed())},50):document.addEventListener("DOMContentLoaded",b.callOnDOMParsed,!1),window.addEventListener("load",b.callOnDOMLoaded,!1)):(setTimeout(function(){var a=window.document;(function(){try{if(!document.body)throw"continue";a.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1),window.attachEvent("onload",
function(){window[ensightenOptions.ns].callOnDOMLoaded()}));document.readyState&&"complete"===document.readyState&&(b.executionState.DOMParsed=!0,b.executionState.DOMLoaded=!0);"true"===c.options.enableTagAuditBeacon&&b.sampleBeacon()&&window.setTimeout(function(){if(window[ensightenOptions.ns]&&!window[ensightenOptions.ns].mobilePlatform)try{for(var a=[],d,e,h,l,g=0;g<c.ruleList.length;++g)e=c.ruleList[g],h=e.executionData.hasRun?"1":"0",l=e.deploymentId.toString()+"|"+e.id.toString()+"|"+h,a.push(l);
d="["+a.join(";")+"]";var m=window.location.protocol+"//"+c.nexus+"/"+encodeURIComponent(f.client)+"/"+encodeURIComponent(f.publishPath)+"/TagAuditBeacon.rnc?cid="+encodeURIComponent(f.clientId)+"&data="+d+"&idx=0&r="+c.rand;b.imageRequest(m)}catch(q){b.currentRuleId=-1,b.currentDeploymentId=-1,a=new c.BeaconException(q),window[ensightenOptions.ns].reportException(a)}},3E3);window.setInterval(b.testAll,c.options.interval);return b}(ensightenOptions);
"true"===ensightenOptions.enablePagePerfBeacon&&window[ensightenOptions.ns]&&window[ensightenOptions.ns].sampleBeacon()&&window[ensightenOptions.ns].bindDOMParsed(function(){if(!window[ensightenOptions.ns].mobilePlatform){var f=window.performance;if(f){var f=f.timing||{},l=f.navigationStart||0,m={connectEnd:"ce",connectStart:"cs",domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",domLoading:"dl",domainLookupEnd:"dle",domainLookupStart:"dls",fetchStart:"fs",
loadEventEnd:"lee",loadEventStart:"les",redirectEnd:"rede",redirectStart:"reds",requestStart:"reqs",responseStart:"resps",responseEnd:"respe",secureConnectionStart:"scs",unloadEventStart:"ues",unloadEventEnd:"uee"};var n="&ns="+encodeURIComponent(f.navigationStart);for(var c in m)if(void 0!==f[c]){var b=f[c]-l;n+="&"+m[c]+"="+(0<b?encodeURIComponent(b):0)}else n+="&"+m[c]+"=-1";window[ensightenOptions.ns].timing=n;c=ensightenOptions.nexus||"nexus.ensighten.com";f=ensightenOptions.staticJavascriptPath||
"";n=f.indexOf(".com/");l=f.indexOf("/code/");f=f.substring(n+4,l)+"/perf.rnc";f+="?cid="+encodeURIComponent(ensightenOptions.clientId)+window[ensightenOptions.ns].timing;window[ensightenOptions.ns].imageRequest("//"+c+f)}}});
		
window[ensightenOptions.ns].ensEvent||(window[ensightenOptions.ns].ensEvent=function(p,u){var k={queue:{},pollQueue:{},pushTrigger:function(b,c){if("[object Array]"===Object.prototype.toString.call(b)){for(var g=0;g<b.length;g++)k.pushTrigger(b[g],c);return!0}if("string"!=typeof b)return!1;this.queue[b]=this.queue[b]||{fn:[]};"function"==typeof c&&this.queue[b].fn.push(c);return!0},callTrigger:function(b,c,g){if("string"!=typeof b)return!1;b=k.queue[b];if("object"==typeof b&&b.fn&&b.fn.length&&(0!=
b.fireOnFirstSet&&c==u||c!=u&&0!=b.fireOnUpdate))for(c=0;c<b.fn.length;c++)try{b.fn[c].call(this)}catch(n){p[ensightenOptions.ns].reportException(n)}},setPollOptions:function(b,c,g){this.queue[b]=this.queue[b]||{fn:[]};this.queue[b].fireOnFirstSet=c;this.queue[b].fireOnUpdate=g},callPoll:function(b,c,g,p,r){if("string"==typeof b&&c&&c.length&&!(1>c.length)){for(var n=0;n<c.length;n++)k.setPollOptions(c[n],p,r);k.pushWatch(b,c,g)}},pushWatch:function(b,c,g){this.pollQueue[b]||(this.pollQueue[b]={previousVal:u,
eventArr:[],valueFn:g});this.pollQueue[b].eventArr=this.pollQueue[b].eventArr.concat(c);this.pollQueue[b].valueFn=g},globalWatch:function(){setInterval(function(){for(var b in k.pollQueue){var c=k.pollQueue[b],g=c.valueFn(b);if(c.previousVal!==g&&null!==g&&""!==g){for(var n=0;n<c.eventArr.length;n++)k.callTrigger.call(p,c.eventArr[n],c.previousVal,g);k.pollQueue[b].previousVal=g}}},500)}};k.globalWatch();return{add:function(b,c){return k.pushTrigger(b,c)},get:function(b){return k.queue[b]},trigger:function(b,
c){return k.callTrigger.call(c||p,b)},poll:function(b,c,g,n,r){r=r||p[ensightenOptions.ns].data.resolve;return k.callPoll(b,c,r,g,n)}}}(window),function(p,u,k){u[p]=k()}("qwery",window[ensightenOptions.ns],function(){function p(){this.c={}}function u(a){return H.g(a)||H.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function k(a,d){for(var e=0,f=a.length;e<f;e++)d(a[e])}function b(a){for(var d=[],e=0,f=a.length;e<f;++e)l(a[e])?d=d.concat(a[e]):d[d.length]=a[e];return d}function c(a){for(var d=0,e=a.length,f=[];d<
e;d++)f[d]=a[d];return f}function g(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function n(a,d,e,f,b,h,l,c,g,k,y){var I,B,m;if(1!==this.nodeType||d&&"*"!==d&&this.tagName&&this.tagName.toLowerCase()!==d||e&&(I=e.match(Q))&&I[1]!==this.id)return!1;if(e&&(m=e.match(R)))for(a=m.length;a--;)if(!u(m[a].slice(1)).test(this.className))return!1;if(g&&v.pseudos[g]&&!v.pseudos[g](this,y))return!1;if(f&&!l)for(B in g=this.attributes,g)if(Object.prototype.hasOwnProperty.call(g,B)&&(g[B].name||B)==
b)return this;return f&&!x(h,S(this,b)||"",l)?!1:this}function r(a){return J.g(a)||J.s(a,a.replace(T,"\\$1"))}function x(a,d,e){switch(a){case "=":return d==e;case "^=":return d.match(w.g("^="+e)||w.s("^="+e,"^"+r(e),1));case "$=":return d.match(w.g("$="+e)||w.s("$="+e,r(e)+"$",1));case "*=":return d.match(w.g(e)||w.s(e,r(e),1));case "~=":return d.match(w.g("~="+e)||w.s("~="+e,"(?:^|\\s+)"+r(e)+"(?:\\s+|$)",1));case "|=":return d.match(w.g("|="+e)||w.s("|="+e,"^"+r(e)+"(-|$)",1))}return 0}function q(a,
d){var e=[],f=[],b,h,l=d,c=C.g(a)||C.s(a,a.split(K)),g=a.match(L);if(!c.length)return e;var m=(c=c.slice(0)).pop();c.length&&(b=c[c.length-1].match(M))&&(l=N(d,b[1]));if(!l)return e;var y=m.match(E);var v=l!==d&&9!==l.nodeType&&g&&/^[+~]$/.test(g[g.length-1])?function(a){for(;l=l.nextSibling;)1==l.nodeType&&(y[1]?y[1]==l.tagName.toLowerCase():1)&&(a[a.length]=l);return a}([]):l.getElementsByTagName(y[1]||"*");b=0;for(m=v.length;b<m;b++)if(h=n.apply(v[b],y))e[e.length]=h;if(!c.length)return e;k(e,
function(a){t(a,c,g)&&(f[f.length]=a)});return f}function t(a,d,e,b){function l(a,b,c){for(;c=U[e[b]](c,a);)if(f(c)&&n.apply(c,d[b].match(E)))if(b){if(h=l(c,b-1,c))return h}else return c}var h;return(h=l(a,d.length-1,a))&&(!b||z(h,b))}function f(a,d){return a&&"object"===typeof a&&(d=a.nodeType)&&(1==d||9==d)}function h(a){var d=[],e;var f=0;a:for(;f<a.length;++f){for(e=0;e<d.length;++e)if(d[e]==a[f])continue a;d[d.length]=a[f]}return d}function l(a){return"object"===typeof a&&isFinite(a.length)}
function N(a,d,e){return 9===a.nodeType?a.getElementById(d):a.ownerDocument&&((e=a.ownerDocument.getElementById(d))&&z(e,a)&&e||!z(a,a.ownerDocument)&&F('[id="'+d+'"]',a)[0])}function v(a,d){var e,h;var g=d?"string"==typeof d?v(d)[0]:!d.nodeType&&l(d)?d[0]:d:m;if(!g||!a)return[];if(a===window||f(a))return!d||a!==window&&f(g)&&z(a,g)?[a]:[];if(a&&l(a))return b(a);if(e=a.match(V)){if(e[1])return(h=N(g,e[1]))?[h]:[];if(e[2])return c(g.getElementsByTagName(e[2]));if(W&&e[3])return c(g.getElementsByClassName(e[3]))}return F(a,
g)}function y(a,d){return function(e){var f,b;O.test(e)?9!==a.nodeType&&((b=f=a.getAttribute("id"))||a.setAttribute("id",b="__qwerymeupscotty"),d(a.parentNode||a,'[id="'+b+'"]'+e,!0),f||a.removeAttribute("id")):e.length&&d(a,e,!1)}}var m=document,D=m.documentElement,F,Q=/#([\w\-]+)/,R=/\.[\w\-]+/g,M=/^#([\w\-]+)$/,X=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,Y=/^\s+|\s*([,\s\+~>]|$)\s*/g,A=/[\s>\+~]/,P=/(?![\s\w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,T=/([.*+?\^=!:${}()|\[\]\/\\])/g,
V=new RegExp(M.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),L=new RegExp("("+A.source+")"+P.source,"g"),K=new RegExp(A.source+P.source),E=new RegExp(/^(\*|[a-z0-9]+)?(?:([\.#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*~]?=)['"]?([ \w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),U={" ":function(a){return a&&a!==D&&a.parentNode},">":function(a,d){return a&&a.parentNode==d.parentNode&&a.parentNode},"~":function(a){return a&&
a.previousSibling},"+":function(a,d,e,f){return a?(e=g(a))&&(f=g(d))&&e==f&&e:!1}};p.prototype={g:function(a){return this.c[a]||void 0},s:function(a,d,e){d=e?new RegExp(d):d;return this.c[a]=d}};var H=new p,J=new p,w=new p,C=new p,z="compareDocumentPosition"in D?function(a,d){return 16==(d.compareDocumentPosition(a)&16)}:"contains"in D?function(a,d){d=9===d.nodeType||d==window?D:d;return d!==a&&d.contains(a)}:function(a,d){for(;a=a.parentNode;)if(a===d)return 1;return 0},S=function(){var a=m.createElement("p");
return(a.innerHTML='<a href="#x">x</a>',"#x"!=a.firstChild.getAttribute("href"))?function(a,e){return"class"===e?a.className:"href"===e||"src"===e?a.getAttribute(e,2):a.getAttribute(e)}:function(a,e){return a.getAttribute(e)}}(),W=!!m.getElementsByClassName,Z=m.querySelector&&m.querySelectorAll,aa=function(a,d){var e=[],f,b;try{if(9===d.nodeType||!O.test(a))return c(d.querySelectorAll(a));k(f=a.split(","),y(d,function(a,d){b=a.querySelectorAll(d);1==b.length?e[e.length]=b.item(0):b.length&&(e=e.concat(c(b)))}));
return 1<f.length&&1<e.length?h(e):e}catch(ba){}return G(a,d)},G=function(a,d){var e=[],f,b;a=a.replace(Y,"$1");if(f=a.match(X)){var l=u(f[2]);f=d.getElementsByTagName(f[1]||"*");var c=0;for(b=f.length;c<b;c++)l.test(f[c].className)&&(e[e.length]=f[c]);return e}k(f=a.split(","),y(d,function(a,f,h){l=q(f,a);c=0;for(b=l.length;c<b;c++)if(9===a.nodeType||h||z(l[c],d))e[e.length]=l[c]}));return 1<f.length&&1<e.length?h(e):e};A=function(a){"undefined"!==typeof a.useNativeQSA&&(F=a.useNativeQSA?Z?aa:G:
G)};A({useNativeQSA:!0});v.configure=A;v.uniq=h;v.is=function(a,d,e){if(f(d))return a==d;if(l(d))return!!~b(d).indexOf(a);for(var c=d.split(","),h;d=c.pop();)if(h=C.g(d)||C.s(d,d.split(K)),d=d.match(L),h=h.slice(0),n.apply(a,h.pop().match(E))&&(!h.length||t(a,h,d,e)))return!0;return!1};v.pseudos={};return v}),function(){function p(f,b,c){n||(n=window[ensightenOptions.ns].qwery);var h=n;if((h=h.call(c,b,c))&&0<h.length){if("_root"==b)f=c;else if(f===c)f=void 0;else{b:{for(var l=h.length,g=0;g<l;g++)if(f===
h[g]){h=!0;break b}h=!1}h||(f.parentNode?(r++,f=p(f.parentNode,b,c)):f=void 0)}return f}return!1}function u(f,b,c,g){q[f.id]||(q[f.id]={});q[f.id][b]||(q[f.id][b]={});q[f.id][b][c]||(q[f.id][b][c]=[]);q[f.id][b][c].push(g)}function k(f,b,c,g){if(g||c)if(g)for(var h=0;h<q[f.id][b][c].length;h++){if(q[f.id][b][c][h]===g){q[f.id][b][c].pop(h,1);break}}else delete q[f.id][b][c];else q[f.id][b]={}}function b(b,c,l){if(q[b][l]){var f=c.target||c.srcElement,h,k,m={},n=k=0;r=0;for(h in q[b][l])q[b][l].hasOwnProperty(h)&&
(k=p(f,h,t[b].element))&&g.matchesEvent(l,t[b].element,k,"_root"==h,c)&&(r++,q[b][l][h].match=k,m[r]=q[b][l][h]);c.stopPropagation=function(){c.cancelBubble=!0};for(k=0;k<=r;k++)if(m[k])for(n=0;n<m[k].length;n++){if(!1===m[k][n].call(m[k].match,c)){g.cancel(c);return}if(c.cancelBubble)return}}}function c(c,h,l,n){function f(c){return function(f){b(p,f,c)}}c instanceof Array||(c=[c]);l||"function"!=typeof h||(l=h,h="_root");var p=this.id,m;for(m=0;m<c.length;m++)q[p]&&q[p][c[m]]||g.addEvent(this,c[m],
f(c[m])),n?k(this,c[m],h,l):u(this,c[m],h,l);return this}function g(b,c,l,k){if("string"==typeof b&&"function"==typeof c||"string"==typeof c)g(document).on(b,c,l,k||!1);if(!(this instanceof g)){for(var f in t)if(t[f].element===b)return t[f];x++;t[x]=new g(b,x);t[x]._on=t[x].on;t[x].on=function(b,c,f,g){var h="function"==typeof c?c:f;if("function"==typeof c?f:g)b=[b],"string"==typeof c&&b.push(c),b.push(function(b){return function(c){c.defaultPrevented||window[ensightenOptions.ns].Delegate.load(this);
if(this.nodeName&&"a"!=this.nodeName.toLowerCase())return b.call(this);"undefined"!=typeof c.preventDefault?c.preventDefault():c.returnValue=!1;b.call(this)}}(h)),this._on.apply(this,b);else return this._on.call(this,b,c,f)};return t[x]}this.element=b;this.id=c}var n,r=0,x=0,q={},t={};g.prototype.on=function(b,g,l){return c.call(this,b,g,l)};g.prototype.off=function(b,g,l){return c.call(this,b,g,l,!0)};g.cancel=function(b){b.preventDefault();b.stopPropagation()};g.addEvent=function(b,c,g){b.element.addEventListener(c,
g,"blur"==c||"focus"==c)};g.matchesEvent=function(){return!0};g.load=function(b){setTimeout(function(b,c){return function(){if(b.nodeName&&"a"==b.nodeName.toLowerCase()){if(c&&/^javascript\s*:/.test(c))return(new Function(unescape(c))).call(window);c&&(window.location.href=c)}}}(b,b.href||""),750)};window[ensightenOptions.ns].Delegate=g}(),function(p){var u=p.addEvent;p.addEvent=function(k,b,c){if(k.element.addEventListener)return u(k,b,c);"focus"==b&&(b="focusin");"blur"==b&&(b="focusout");k.element.attachEvent("on"+
b,c)};p.cancel=function(k){k.preventDefault&&k.preventDefault();k.stopPropagation&&k.stopPropagation();k.returnValue=!1;k.cancelBubble=!0}}(window[ensightenOptions.ns].Delegate),window[ensightenOptions.ns].on=window[ensightenOptions.ns].Delegate);
Bootstrapper.dataDefinitionIds = [];/*
 MIT License (c) copyright 2011-2013 original author or authors  MIT License (c) copyright 2013 original author or authors */
Bootstrapper.bindDependencyDOMParsed(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var UA=UA||{};if(UA&&UA.AppData&&UA.AppData.Data&&UA.AppData.Data.Session&&UA.AppData.Data.Session.LanguageCulture)var ol_lang=UA.AppData.Data.Session.LanguageCulture;else if(document.location.pathname.indexOf("/ual/")>-1&&document.location.pathname.split("/").length>2)var ol_lang=document.location.pathname.split("/")[2];else if(document.location.pathname.indexOf("/web/")>
-1&&document.location.pathname.split("/").length>2)var ol_lang=document.location.pathname.split("/")[2];else if(document.getElementById("hdnLangCode")&&document.getElementById("hdnLangCode").value.length>0)var ol_lang=document.getElementById("hdnLangCode").value;else if(Bootstrapper.Cookies.get("LangPos").indexOf("LanguageCode")>-1){var langPosCookie=Bootstrapper.Cookies.get("LangPos").split("\x26");langPosVar=langPosCookie.length>1?langPosCookie[0].split("\x3d"):langPosCookie;var ol_lang=langPosVar.length>
1?langPosVar[1]:""}else var ol_lang="en";ol_lang=ol_lang.toLowerCase();var ol_validateObj={"en":{active:!0,text:'\x3cspan class\x3d"visuallyhidden"\x3eOpen United\'s\x3c/span\x3eSite Feedback\x3cspan class\x3d"visuallyhidden"\x3ein a new window\x3c/span\x3e'},"en-us":{active:!0,text:'\x3cspan class\x3d"visuallyhidden"\x3eOpen United\'s\x3c/span\x3eSite Feedback\x3cspan class\x3d"visuallyhidden"\x3ein a new window\x3c/span\x3e'},"zh-cn":{active:!0,text:'\x3cspan class\x3d"visuallyhidden"\x3e\u6253\u5f00\u65b0\u7a97\u53e3 \x3c/span\x3e\u7f51\u7ad9\u53cd\u9988\x3cspan class\x3d"visuallyhidden"\x3e\x3c/span\x3e'},
"zh-hk":{active:!0,text:'\x3cspan class\x3d"visuallyhidden"\x3e\u6253\u5f00\u65b0\u7a97\u53e3 \x3c/span\x3e\u7db2\u7ad9\u56de\u994b\u610f\u898b\x3cspan class\x3d"visuallyhidden"\x3e\x3c/span\x3e'}};if(ol_validateObj[ol_lang]!==undefined&&ol_validateObj[ol_lang].active){ol_lang=ol_lang;buildButton()}else{ol_lang="en";buildButton()}function buildButton(){var d=document,ol_customVariables={previous_page:document.referrer,current_page:location.pathname,pos:Bootstrapper.dataObject.getData("POS","locale",
"global"),mp_status:Bootstrapper.dataObject.getData("MPAccStatus","visitor","global"),mp_account:Bootstrapper.dataObject.getData("CustomerId","visitor","global"),_ga:Bootstrapper.Cookies.get("_ga")};function showVoc(e){if(typeof e!=="undefined"&&typeof e.preventDefault!=="undefined")e.preventDefault();if(typeof window.oo_feedback!=="undefined"&&window.oo_feedback!==null){window.oo_feedback.show(e);window.ga("send","event","OpinionLab Feedback","Click","",0,{nonInteraction:true})}return false}function initializeVoc(){if(typeof window.oo_feedback==
"undefined"||window.oo_feedback===null){window.oo_feedback=new OOo.Ocode({newWindowSize:[535,467],customVariables:ol_customVariables,commentCardUrl:Bootstrapper.linkerUrl});if(d.getElementById("headerWrapper")!==null){var c,a,f,x;x=d.getElementById("headerWrapper");if(x!==null){c=d.createElement("div");c.id="feedback-div";a=d.createElement("a");a.id="ct100_CustomerHeader_linkFeedback";a.href="javascript:void(0);";a.innerHTML=' \x3cimg style\x3d"margin-right: .3em;margin-bottom: .2em;margin-left: .2em; height:13px; vertical-align:-4px;" src\x3d"/web/format/img/header/feedback-icon.gif" alt\x3d""/\x3e\x3cspan style\x3d"margin-left : 3px;"\x3e'+
ol_validateObj[ol_lang].text+"\x3c/span\x3e";Bootstrapper.unobtrusiveAddEvent(a,"onclick",showVoc);c.appendChild(a);x.appendChild(c)}}else{var c,a,f,x;x=d.getElementById("container-trim");if(x!==null){c=d.createElement("div");c.className="container-feedback";f=d.createElement("div");f.className="feedback feedback-mid";f.style.top="60%";f.style.borderLeft="2px solid #ffffff";f.style.borderRight="2px solid #ffffff";f.style.borderBottom="3px solid #ffffff";f.style.fontFamily="open-sans, 'Helvetica Neue', Helvetica, Calibri, Arial, 'Lucida Grande', sans-serif";
if(navigator.userAgent.indexOf("MSIE")>-1)if(parseInt(navigator.userAgent.split("MSIE")[1])<9)f.style.marginRight="-100px";a=d.createElement("a");a.href="javascript:void(0);";a.style.backgroundColor="#3E7D3B";a.style.padding=".4em .5em .5em";a.style.fontSize="14px";a.style.width="initial";a.innerHTML=' \x3cimg style\x3d"margin-right : .3em;margin-bottom : .2em;margin-left : .2em;" src\x3d"/ual/format/img/layout/oo-float-white-feedback-b.gif" alt\x3d""/\x3e\x3cspan style\x3d"margin-left : 3px;"\x3e'+
ol_validateObj[ol_lang].text+"\x3c/span\x3e";Bootstrapper.unobtrusiveAddEvent(a,"onclick",showVoc);f.appendChild(a);c.appendChild(f);x.appendChild(c)}}}}Bootstrapper.linkerUrl="https://secure.opinionlab.com/ccc01/comment_card_d.asp";if(typeof OOo=="undefined"||OOo===null)Bootstrapper.loadScriptCallback("/ual/format/js/opinionlab/oo_engine.min.js",initializeVoc);else initializeVoc()}}catch(e){}},1592143,[2011281],202755,[248942]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var loop=0;function jQueryflag(){if(loop<=30)setTimeout(function(){if(typeof jQuery=="function"&&typeof $=="function"&&typeof $.prototype.on=="function")$("body").on("click","div.fare-wheel-item",function(){});else{loop=loop+1;jQueryflag()}},150);else return}jQueryflag()},1484882,[2011281],312155,[248942]);
Bootstrapper.bindDependencyDOMLoaded(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;if(typeof JSON!=="undefined"&&(typeof JSON.stringify==="function"&&typeof JSON.parse==="function")&&typeof jQuery==="function"){window._24x7Error=function(err,addtlInfo){try{window.ga("send","event","[24]7 Error Triggered",location.href,err.message+(addtlInfo?" ("+addtlInfo+")":""),{nonInteraction:true})}catch(err){}};try{window.Bootstrapper=window.Bootstrapper||
{};Bootstrapper._24x7Track={};var __24x7=Bootstrapper._24x7Track;__24x7.isError=false;__24x7.currDate=new Date;__24x7.locpath=location.pathname;__24x7.concatID="|";__24x7.chngConcat="#";__24x7.encryptVars={P2:!0,P5:!0,P6:!0,P7:!0,P8:!0,P9:!0,P21:!0,P29:!0,P30:!0,P31:!0,P33:!0};__24x7.cookieName={};__24x7.infGlobal={};__24x7.infPersonal={};__24x7.infSession={};__24x7.infBooking={};__24x7.infViewRes={};__24x7.infChgFlght={};__24x7.infCnclFlght={};__24x7.funcs={};var __funcs=__24x7.funcs;__24x7.cookieName.global=
"ua_247.glbl";__24x7.cookieName.personal="ua_247.prs";__24x7.cookieName.session="ua_247.sess";__24x7.cookieName.booking="ua_247.bkng";__24x7.cookieName.viewres="ua_247.viewres";__24x7.cookieName.chgflght="ua_247.chgflght";__24x7.cookieName.cnclflght="ua_247.cnclflght";__funcs.__saveValue=function(name,data,expiry){try{expiry=(expiry!==""?expiry:1)*24*60*60*1E3;expiry=__24x7.currDate.getTime()+expiry;Bootstrapper.localS.utilities.__setData(name,typeof data==="object"?JSON.stringify(data):data,expiry)}catch(err){window._24x7Error(err,
"__saveValue")}};__funcs.__clearValue=function(name){try{Bootstrapper.localS.utilities.__clearData(name)}catch(err){window._24x7Error(err,"__clearValue")}};__funcs.__populateObj=function(objName,cookieName){try{var cookie=Bootstrapper.localS.utilities.__getData(cookieName);Bootstrapper._24x7Track[objName]=cookie!==""&&cookie!==null?JSON.parse(cookie):{};__funcs.__clearValue(cookieName)}catch(err){window._24x7Error(err,"__populateObj -- length: "+cookie.length+" -- last 5: "+cookie.substr(cookie.length-
5))}};__funcs.__bootstrapVarAvail=function(nameSpace){try{var nsArr=nameSpace.split("."),checkElem=window,returnElem=checkElem;for(var i=0;i<=nsArr.length;i++){if(checkElem!==undefined)returnElem=checkElem;else return false;checkElem=checkElem[nsArr[i]]}return returnElem}catch(err){window._24x7Error(err,"__bootstrapVarAvail");return""}};__funcs.__setObjVar=function(objVar,nameSpace,checkVal){try{var objNames=objVar.split("."),value="";if(checkVal===null||(checkVal===undefined||checkVal==="")||__funcs.__bootstrapVarAvail(checkVal)){value=
__funcs.__bootstrapVarAvail(nameSpace);if(__24x7.encryptVars[objNames[1]]&&value!=="--")value=Bootstrapper.base64Encode(value)}return value}catch(err){window._24x7Error(err,"__setObjVar");return""}};__funcs.__flightSearchDest=function(tripType){try{var destArr=__funcs.__bootstrapVarAvail("Bootstrapper.dataObject.page.flightSearch.trips"),destinationVal="";if(destArr)if(tripType==="OW")destinationVal="";else if(tripType==="RT"){if(destArr[1]&&destArr[1].Destination)destinationVal=destArr[1].Destination}else if(tripType===
"MD")for(var i=1;i<destArr.length;i++)destinationVal+=(destinationVal!==""?__24x7.concatID:"")+destArr[i].Destination;else destinationVal="";else destinationVal="";return destinationVal}catch(err){window._24x7Error(err,"__flightSearchDest");return""}};__funcs.__tripTableDest=function(tripType){try{var destArr=[],destinationVal="";jQuery("table.tblTrip").each(function(){var $this=jQuery(this),arriveArr=$this.children("tbody").children("tr").children("td.tdArrive"),arriveMatch=arriveArr.eq(arriveArr.length-
1).children("div").eq(3).text().match(/[A-Z]{3}/);if(arriveMatch)destArr.push(arriveMatch[0])});if(destArr)if(tripType==="OW")destinationVal="";else if(tripType==="RT")destinationVal=destArr[0];else if(tripType==="MD")for(var i=0;i<destArr.length;i++)destinationVal+=(destinationVal!==""?__24x7.concatID:"")+destArr[i];else destinationVal="";else destinationVal="";return destinationVal}catch(err){window._24x7Error(err,"__tripTableDest");return""}};__funcs.__chgFlghtDest=function(tripType){try{var destArr=
[],destinationVal="",destElems=jQuery("#ctl00_ContentInfo_OriginalSegments_tableMain tbody tr td div.arriveDtl");destElems.each(function(){var $this=jQuery(this),arriveArr=$this.text().split(" | ");if($this.parent("td").parent("tr").next("tr").children("td").children("span.Content").length>0||jQuery.inArray(this,destElems)===destElems.length-1){var arriveMatch=arriveArr.length>=3?arriveArr[2].match(/[A-Z]{3}/):[];if(arriveMatch)destArr.push(arriveMatch[0])}});if(destArr)if(tripType==="OW")destinationVal=
"";else if(tripType==="RT")destinationVal=destArr[0];else if(tripType==="MD")for(var i=0;i<destArr.length;i++)destinationVal+=(destinationVal!==""?__24x7.concatID:"")+destArr[i];else destinationVal="";else destinationVal="";return destinationVal}catch(err){window._24x7Error(err,"__chgFlghtDest");return""}};__funcs.__flightSearchRetDate=function(tripType){try{var retDateArr=__funcs.__bootstrapVarAvail("Bootstrapper.dataObject.page.flightSearch.trips"),returnDateVal="",tmpDate;if(retDateArr)if(tripType===
"OW")returnDateVal="";else if(tripType==="RT"){if(retDateArr[2]&&retDateArr[2].DepartDate)returnDateVal=retDateArr[2].DepartDate}else if(tripType==="MD")for(var i=2;i<retDateArr.length;i++){tmpDate=retDateArr[i].DepartDate;returnDateVal+=(returnDateVal!==""?__24x7.concatID:"")+tmpDate}else returnDateVal="";else returnDateVal="";return returnDateVal}catch(err){window._24x7Error(err,"__flightSearchRetDate");return""}};__funcs.__tripTableRetDate=function(tripType){try{var retDateArr=[],returnDateVal=
"",tmpDate;jQuery("table.tblTrip").each(function(){var $this=jQuery(this),departArr=$this.children("tbody").children("tr").children("td.tdDepart");retDateArr.push(__funcs.__formatDate(departArr.eq(0).children("div").eq(2).text()))});if(retDateArr)if(tripType==="OW")returnDateVal="";else if(tripType==="RT"){tmpDate=new Date(decodeURIComponent(retDateArr[1]));returnDateVal=tmpDate.format("MM/dd/yyyy")}else if(tripType==="MD")for(var i=1;i<retDateArr.length;i++){tmpDate=new Date(decodeURIComponent(retDateArr[i]));
returnDateVal+=(returnDateVal!==""?__24x7.concatID:"")+tmpDate.format("MM/dd/yyyy")}else returnDateVal="";else returnDateVal="";return returnDateVal}catch(err){window._24x7Error(err,"__tripTableRetDate");return""}};__funcs.__chgFlghtRetDate=function(tripType){try{var retDateArr=[],returnDateVal="",tmpDate;jQuery("#ctl00_ContentInfo_OriginalSegments_tableMain tbody tr td div.departDtl").each(function(){var $this=jQuery(this),departArr=$this.text().split(" | ");if($this.parent("td").parent("tr").children("td").children("span.Content").length>
0)retDateArr.push(__funcs.__formatDate(departArr[1]))});if(retDateArr)if(tripType==="OW")returnDateVal="";else if(tripType==="RT"){tmpDate=new Date(decodeURIComponent(retDateArr[1]));returnDateVal=tmpDate.format("MM/dd/yyyy")}else if(tripType==="MD")for(var i=1;i<retDateArr.length;i++){tmpDate=new Date(decodeURIComponent(retDateArr[i]));returnDateVal+=(returnDateVal!==""?__24x7.concatID:"")+tmpDate.format("MM/dd/yyyy")}else returnDateVal="";else returnDateVal="";return returnDateVal}catch(err){window._24x7Error(err,
"__chgFlghtRetDate");return""}};__funcs.__getObjString=function(objName){try{var retStr="",objKeys=Object.keys(__24x7[objName]),i;for(i=0;i<objKeys.length;i++){var attVal=__24x7[objName][objKeys[i]];if(attVal!=="--")retStr+="\x26"+objKeys[i]+"\x3d"+encodeURIComponent(attVal)}return retStr}catch(err){window._24x7Error(err,"__getObjString");return""}};__funcs.__createErrorUrl=function(){try{__24x7.errorStr="";__24x7.errorStr+=__funcs.__getObjString("infGlobal");__24x7.errorStr+=__funcs.__getObjString("infPersonal");
__24x7.errorStr+=__funcs.__getObjString("infSession");if(location.pathname.indexOf("/flight-search/book-a-flight")>=0||__24x7.infSession.P32&&__24x7.infSession.P32.indexOf("/flight-search/book-a-flightt")>=0||$("body").hasClass("homepage"))__24x7.errorStr+=__funcs.__getObjString("infBooking");if(location.pathname.indexOf("recentActivity.aspx")>-1||location.pathname.indexOf("PriorStatement.aspx")>-1||__24x7.infSession.P13=="signin failure")__24x7.errorStr+=__funcs.__getObjString("infBooking");if(location.pathname.indexOf("/apps/reservation/flight/view/")>=
0||__24x7.infSession.P32&&__24x7.infSession.P32.indexOf("/apps/reservation/flight/view/")>=0)__24x7.errorStr+=__funcs.__getObjString("infViewRes");if(location.pathname.indexOf("/apps/reservation/flight/change/")>=0||__24x7.infSession.P32&&__24x7.infSession.P32.indexOf("/apps/reservation/flight/change/")>=0)__24x7.errorStr+=__funcs.__getObjString("infChgFlght");if(location.pathname.indexOf("/apps/reservation/flight/cancel")>=0||__24x7.infSession.P32&&__24x7.infSession.P32.indexOf("/apps/reservation/flight/cancel")>=
0)__24x7.errorStr+=__funcs.__getObjString("infCnclFlght");var errorStr="https://united"+(document.location.host.indexOf("stage")>=0?"-staging":"")+".app.pub.247-inc.net/pxdata?sid\x3d"+__24x7.infSession.P12+"\x26uuid\x3d"+__24x7.infSession.P17+__24x7.errorStr;return errorStr}catch(err){window._24x7Error(err,"__createErrorUrl");return""}};__funcs.__triggerError=function(){try{__24x7.infSession.P11=Bootstrapper._dateFormat(__24x7.currDate,"MM/dd/yyyy-HH:mm:ss");__24x7.errorUrl=__funcs.__createErrorUrl();
Bootstrapper.imageRequest(__24x7.errorUrl);window.ga("send","event","[24]7 Error Triggered",__24x7.infSession.P13,decodeURIComponent(__24x7.errorStr),{nonInteraction:true})}catch(err){window._24x7Error(err,"__triggerError")}};__funcs.__grabCookieData=function(){try{__funcs.__populateObj("infGlobal",__24x7.cookieName.global);__funcs.__populateObj("infPersonal",__24x7.cookieName.personal);__funcs.__populateObj("infSession",__24x7.cookieName.session);__funcs.__populateObj("infBooking",__24x7.cookieName.booking);
__funcs.__populateObj("infViewRes",__24x7.cookieName.viewres);__funcs.__populateObj("infChgFlght",__24x7.cookieName.chgflght);__funcs.__populateObj("infCnclFlght",__24x7.cookieName.cnclflght)}catch(err){window._24x7Error(err,"__grabCookieData")}};__funcs.__getCookieID=function(){try{var cookieName="ua_247.CID",CID=Bootstrapper.localS.utilities.__getData(cookieName);if(!CID||CID=="--")CID=""+parseInt(Math.random()*1E9)+(new Date).getTime();__24x7.infSession.P17=CID;__funcs.__saveValue(cookieName,CID,
549)}catch(err){window._24x7Error(err,"__getCookieID")}};__funcs.__formatPhoneNumber=function(selector,objVar){try{var objNames=objVar.split("."),value=__24x7[objNames[0]][objNames[1]],phoneArr=value==="--"||value===""||value===undefined||value===null?[]:value.split(__24x7.concatID);if(jQuery(selector).length>0){jQuery(selector).each(function(){var $this=jQuery(this),thisText=$this.text()||$this.val(),cleanText=thisText.replace(/[^0-9]/g,"");if(cleanText&&cleanText!==""){var formattedNumber=cleanText.substring(0,
3)+"-"+cleanText.substring(3,6)+"-"+cleanText.substring(6);if(__24x7.encryptVars[objNames[1]])formattedNumber=Bootstrapper.base64Encode(formattedNumber);if(jQuery.inArray(formattedNumber,phoneArr)<0)phoneArr.push(formattedNumber)}});return phoneArr.join(__24x7.concatID)}return value||""}catch(err){window._24x7Error(err,"__formatPhoneNumber");return""}};__funcs.__formatEmail=function(selector,objVar){try{var objNames=objVar.split("."),value=__24x7[objNames[0]][objNames[1]],emailArr=value==="--"||value===
""||value===undefined||value===null?[]:value.split(__24x7.concatID);if(jQuery(selector).length>0){jQuery(selector).each(function(){var $this=jQuery(this),thisText=$this.text()||$this.val(),cleanText=thisText.trim();if(cleanText!==""){var formattedEmail=encodeURIComponent(cleanText);if(__24x7.encryptVars[objNames[1]])formattedEmail=Bootstrapper.base64Encode(formattedEmail);if(jQuery.inArray(formattedEmail,emailArr)<0)emailArr.push(formattedEmail)}});return emailArr.join(__24x7.concatID)}return value||
""}catch(err){window._24x7Error(err,"__formatEmail");return""}};__funcs.__formatGenericText=function(selector,objVar){try{var objNames=objVar.split("."),value=__24x7[objNames[0]][objNames[1]];if(jQuery(selector).length>0)jQuery(selector).each(function(){var $this=jQuery(this),thisText=$this.text()||$this.val();value=thisText.trim();if(value!=="")if(__24x7.encryptVars[objNames[1]])value=Bootstrapper.base64Encode(value)});return value||""}catch(err){window._24x7Error(err,"__formatGenericText");return""}};
__funcs.__formatPassedText=function(value,objVar){try{var objNames=objVar.split(".");value=value.trim();if(value!=="")if(__24x7.encryptVars[objNames[1]])value=Bootstrapper.base64Encode(value);return value||""}catch(err){window._24x7Error(err,"__formatPassedText");return""}};__funcs.__formatDate=function(date){try{var daysOfWeek={"Sun.":"Sunday","Mon.":"Monday","Tue.":"Tuesday","Wed.":"Wednesday","Thu.":"Thursday","Fri.":"Friday","Sat.":"Saturday"},monthsOfYear={"Jan.":"January","Feb.":"February",
"Mar.":"March","Apr.":"April","May.":"May","Jun.":"June","Jul.":"July","Aug.":"August","Sep.":"September","Oct.":"October","Nov.":"November","Dec.":"December"},replacedDay="",replacedMonth="",formattedDate=date;jQuery.each(daysOfWeek,function(key,val){if(date.indexOf(key)>=0){replacedDay=key;return false}});jQuery.each(monthsOfYear,function(key,val){if(date.indexOf(key)>=0){replacedMonth=key;return false}});if(replacedDay&&replacedMonth){var adjustedDate=date.replace(replacedDay,daysOfWeek[replacedDay]).replace(replacedMonth,
monthsOfYear[replacedMonth]),_Date=new Date(adjustedDate),_Day=_Date.getDate(),_Month=_Date.getMonth()+1,_Year=_Date.getFullYear();formattedDate=(_Month<10?"0":"")+_Month+"/"+((_Day<10?"0":"")+_Day)+"/"+_Year}return formattedDate}catch(err){window._24x7Error(err,"__formatDate");return""}};__funcs.__getTravelerName=function(selector,objVar){try{var objNames=objVar.split("."),value=__24x7[objNames[0]][objNames[1]],travelerArr=value==="--"||value===""||value===undefined||value===null?[]:value.split(__24x7.concatID);
if(jQuery(selector).length>0){jQuery(selector).each(function(){var $this=jQuery(this),thisText=$this.text(),cleanText=thisText.trim();if(cleanText!==""){if(__24x7.encryptVars[objNames[1]])cleanText=Bootstrapper.base64Encode(cleanText);if(jQuery.inArray(cleanText,travelerArr)<0)travelerArr.push(cleanText)}});return travelerArr.join(__24x7.concatID)}return value||""}catch(err){window._24x7Error(err,"__getTravelerName");return""}};__funcs.__getFrequentFlyerNum=function(selector,objVar){try{var objNames=
objVar.split("."),value=__24x7[objNames[0]][objNames[1]],ffNumArr=value==="--"||value===""||value===undefined||value===null?[]:value.split(__24x7.concatID);if(jQuery(selector).length>0){jQuery(selector).each(function(){var $this=jQuery(this),thisText=$this.text(),cleanText=thisText.trim();if(cleanText!==""){if(__24x7.encryptVars[objNames[1]])cleanText=Bootstrapper.base64Encode(cleanText);if(jQuery.inArray(cleanText,ffNumArr)<0)ffNumArr.push(cleanText)}});return ffNumArr.join(__24x7.concatID)}return value||
""}catch(err){window._24x7Error(err,"__getFrequentFlyerNum");return""}};__funcs.__saveCookieData=function(){try{__funcs.__saveValue(__24x7.cookieName.global,__24x7.infGlobal);__funcs.__saveValue(__24x7.cookieName.personal,__24x7.infPersonal);__funcs.__saveValue(__24x7.cookieName.session,__24x7.infSession);__funcs.__saveValue(__24x7.cookieName.booking,__24x7.infBooking);__funcs.__saveValue(__24x7.cookieName.viewres,__24x7.infViewRes);__funcs.__saveValue(__24x7.cookieName.chgflght,__24x7.infChgFlght);
__funcs.__saveValue(__24x7.cookieName.cnclflght,__24x7.infCnclFlght)}catch(err){window._24x7Error(err,"__saveCookieData")}};__funcs.__getLocation=function(){try{if(typeof Bootstrapper.Cookies._cookies.IP!=="undefined"){var lcnStr=Bootstrapper.Cookies._cookies.IP,LocArry=[],locStrArry;locStrArry=lcnStr.split("\x26");for(var i=0;i<locStrArry.length;i++){if(locStrArry[i].search("Country\x3d")>-1)LocArry[2]=locStrArry[i].substring(8);else if(locStrArry[i].search("City\x3d")>-1)LocArry[0]=locStrArry[i].substring(5);
else if(locStrArry[i].search("Region\x3d")>-1)LocArry[1]=locStrArry[i].substring(7);if(LocArry.length>3)break}return Bootstrapper.base64Encode(LocArry.join(","))}else return""}catch(err){window._24x7Error(err,"__getLocation");return""}};__funcs.__getCustID=function(){try{if(Bootstrapper.dataObject.global.visitor.CustomerId!==null&&typeof Bootstrapper.dataObject.global.visitor.CustomerId!="undefined"&&Bootstrapper.dataObject.global.visitor.CustomerId!==""){var custID=Bootstrapper.base64Encode(Bootstrapper.dataObject.global.visitor.CustomerId);
return custID}else return""}catch(err){window._24x7Error(err,"__getCustID");return""}};__funcs.__grabPageData=function(){try{__24x7.infGlobal.P1="web";__24x7.infGlobal.P2=__funcs.__setObjVar("infGlobal.P2","Bootstrapper.dataObject.global.visitor.CustomerId","Bootstrapper.dataObject.global.visitor.loggedIn")||__24x7.infGlobal.P2||"--";__24x7.infGlobal.P3=__funcs.__setObjVar("infGlobal.P3","Bootstrapper.dataObject.global.locale.POS")||__24x7.infGlobal.P3||"--";__24x7.infGlobal.P4=__funcs.__setObjVar("infGlobal.P4",
"Bootstrapper.dataObject.global.locale.langCode")||__24x7.infGlobal.P4||"--";__24x7.infGlobal.P5=__funcs.__getCustID()||__24x7.infGlobal.P5||"--";__24x7.infSession.P10=typeof infSession!="undefined"&&infSession.P10!="--"?infSession.P10:Bootstrapper._dateFormat(__24x7.currDate,"MM/dd/yyyy-HH:mm:ss");__24x7.infSession.P11="--";__24x7.infSession.P12=Bootstrapper.dataObject.UASessionID||"--";__24x7.infSession.P13="--";__24x7.infSession.P14=jQuery("span[id*\x3d'ErrorDetail']").text().split(":").length>
1?jQuery("span[id*\x3d'ErrorDetail']").text().split(":")[1].replace(/\s/g,""):"--";__24x7.infSession.P15="--";__24x7.infSession.P16=Bootstrapper.dataObject.global.locale.ClientIP||"--";__24x7.infSession.P17=typeof infSession==="undefined"||__24x7.infSession.P17==="--"?Bootstrapper.localS.utilities.__getData("ua_247.CID"):__24x7.infSession.P17;__24x7.infSession.P18=__funcs.__getLocation();__24x7.infSession.P19="--";__24x7.infSession.P20=jQuery("title").text().replace(/\n/g,"");__24x7.infBooking.P21=
"--";__24x7.infBooking.P22="--";__24x7.infBooking.P23="--";__24x7.infBooking.P24="--";__24x7.infBooking.P25="--";__24x7.infBooking.P26="--";__24x7.infBooking.P27="--";__24x7.infBooking.P28="--";__24x7.infSession.P32=Bootstrapper.dataObject.page.pageURI;__24x7.infSession.P34=typeof Bootstrapper.Cookies.get("TLTSID")!="undefined"?Bootstrapper.Cookies.get("TLTSID"):"--";var prevPageMap=[{regex:/.*\.united\.com\/ual\/en\/us\/?$/,pageName:"HomePage"},{regex:/.*\.united\.com\/ual\/.*\/.*\/flight-search\/book-a-flight\/(results|changetrip)\/(rev|awd)\/?/,
pageName:"Search"},{regex:/.*\.united\.com\/ual\/.*\/.*\/flight-search\/book-a-flight\/reviewflight\/(rev|awd)\/?$/,pageName:"ReviewTrip"},{regex:/.*\.united\.com\/ual\/.*\/.*\/flight-search\/book-a-flight\/travelerinfo\/(default\/)?(rev|awd)\/?$/,pageName:"Traveler"},{regex:/.*\.united\.com\/ual\/.*\/.*\/flight-search\/book-a-flight\/seatmap\/(rev|awd)\/?$/,pageName:"SeatMap"},{regex:/.*\.united\.com\/ual\/.*\/.*\/flight-search\/book-a-flight\/billinginfo\/(default\/)?(rev|awd)\/?$/,pageName:"Billing"},
{regex:/.*\.united\.com\/ual\/.*\/*.\/flight-search\/book-a-flight\/confirmation\/(rev|awd)|Confirmation\/?$/,pageName:"Confirmation"}];for(var i=0;i<prevPageMap.length;i++)if(prevPageMap[i].regex.test(document.referrer)){__24x7.infSession.P20=prevPageMap[i].pageName;break}if(location.pathname.indexOf("/flight-search/book-a-flight")>=0||$("body").hasClass("homepage")){__24x7.infBooking.P21=__funcs.__setObjVar("infBooking.P21","Bootstrapper.dataObject.page.transaction.PNR")||__24x7.infBooking.P21||
"--";__24x7.infBooking.P22=__funcs.__setObjVar("infBooking.P22","Bootstrapper.dataObject.page.flightSearch.type")||__24x7.infBooking.P22||"--";__24x7.infBooking.P23=(__funcs.__setObjVar("infBooking.P23","Bootstrapper.dataObject.page.flightSearch.tripType")||__24x7.infBooking.P23||"--").replace("One Way","OW").replace("Round Trip","RT").replace("Multiple Destinations","MD");__24x7.infBooking.P24=__funcs.__setObjVar("infBooking.P24","Bootstrapper.dataObject.page.flightSearch.orig1")||__24x7.infBooking.P24||
"--";__24x7.infBooking.P25=__funcs.__setObjVar("infBooking.P25","Bootstrapper.dataObject.page.flightSearch.dest1")||__24x7.infBooking.P25||"--";__24x7.infBooking.P26=__funcs.__setObjVar("infBooking.P26","Bootstrapper.dataObject.page.flightSearch.travelDate1")||__24x7.infBooking.P26||"--";__24x7.infBooking.P27=__funcs.__flightSearchRetDate(__24x7.infBooking.P23)||__24x7.infBooking.P27||"--";__24x7.infBooking.P28=__funcs.__setObjVar("infBooking.P28","Bootstrapper.dataObject.page.flightSearch.paxCount")||
__24x7.infBooking.P28||"--"}var deptMatch="",arrMatch="";if(location.pathname.indexOf("/apps/reservation/flight/view/")>=0){__24x7.infViewRes.P21=__funcs.__formatGenericText(".uaConfirmationNumber","infBooking.P21")||"--";__24x7.infViewRes.P22=jQuery("#ctl00_ContentInfo_ViewRes_PriceRewardSummary_Price_ctl00_spanPrice").text().indexOf("miles")>=0?"Award":"Revenue";deptMatch=jQuery("table.tblTrip td.tdDepart").eq(0).children("div").eq(3).text().match(/[A-Z]{3}/g);if(!deptMatch)deptMatch=jQuery("table.tblTrip div.hdrDeparting").text().match(/[A-Z]{3}/g);
arrMatch=jQuery("table.tblTrip td.tdArrive").eq(jQuery("table.tblTrip td.tdArrive").length-1).children("div").eq(3).text().match(/[A-Z]{3}/g);if(!arrMatch)arrMatch=jQuery("table.tblTrip div.hdrReturning").eq(jQuery("table.tblTrip div.hdrReturning").length-1).text().match(/[A-Z]{3}/g);if(jQuery("table.tblTrip").length===1)__24x7.infViewRes.P23="OW";else if(jQuery("table.tblTrip").length===2&&deptMatch[0]===arrMatch[arrMatch.length-1])__24x7.infViewRes.P23="RT";else __24x7.infViewRes.P23="MD";if(deptMatch)__24x7.infViewRes.P24=
deptMatch[0];else __24x7.infViewRes.P24="--";__24x7.infViewRes.P25=__funcs.__tripTableDest(__24x7.infViewRes.P23)||__24x7.infViewRes.P25||"--";__24x7.infViewRes.P26=__funcs.__formatDate(jQuery("table.tblTrip td.tdDepart").eq(0).children("div").eq(2).text()||"--");__24x7.infViewRes.P27=__funcs.__tripTableRetDate(__24x7.infViewRes.P23)||__24x7.infViewRes.P27||"--";__24x7.infViewRes.P28=jQuery("div.traveler").length||"--"}if(location.pathname.indexOf("/apps/reservation/flight/change/")>=0){__24x7.infChgFlght.P21=
__24x7.infChgFlght.P21||"--";__24x7.infChgFlght.P22=__24x7.infChgFlght.P22||"--";__24x7.infChgFlght.P23=__24x7.infChgFlght.P23||"--";__24x7.infChgFlght.P24=__24x7.infChgFlght.P24||"--";__24x7.infChgFlght.P25=__24x7.infChgFlght.P25||"--";__24x7.infChgFlght.P26=__24x7.infChgFlght.P26||"--";__24x7.infChgFlght.P27=__24x7.infChgFlght.P27||"--";__24x7.infChgFlght.P28=__24x7.infChgFlght.P28||"--";var travelerArr=[],orig,dests,deptDate,retDates,depart,arrive;if(location.pathname.indexOf("default.aspx")>=
0){__24x7.infChgFlght.P22=jQuery("table.fareDetails tr[id*\x3d'_ContentInfo_PriceSummary_'].total td[id*\x3d'_ContentInfo_PriceSummary_'].currency span.mileage").length>0?"Award":"Revenue";deptMatch=jQuery(".departDtl").eq(0).text().match(/[A-Z]{3}/);arrMatch=jQuery(".arriveDtl").eq(jQuery(".arriveDtl").length-1).text().match(/[A-Z]{3}/);depart=deptMatch?deptMatch[0]:"";arrive=arrMatch?arrMatch[0]:"";__24x7.infChgFlght.P23=(jQuery("span.Content").length===1?"OW":jQuery("span.Content").length===2&&
depart===arrive?"RT":jQuery("span.Content").length>=2&&depart!==arrive?"MD":"")||__24x7.infChgFlght.P23||"--";var deptSplitMatch=jQuery(".departDtl").eq(0).text().split(" | ")[2].match(/[A-Z]{3}/);__24x7.infChgFlght.P24=deptSplitMatch?deptSplitMatch[0]:__24x7.infChgFlght.P24||"--";__24x7.infChgFlght.P25=__funcs.__chgFlghtDest(__24x7.infChgFlght.P23)||__24x7.infChgFlght.P25||"--";__24x7.infChgFlght.P26=__funcs.__formatDate(jQuery(".departDtl").eq(0).text().split(" | ")[1]||__24x7.infChgFlght.P26||
"--");__24x7.infChgFlght.P27=__funcs.__chgFlghtRetDate(__24x7.infChgFlght.P23)||__24x7.infChgFlght.P27||"--"}if(location.pathname.indexOf("searchNew")>=0){jQuery("#divShowTraveler span.PHead").each(function(){travelerArr.push(__funcs.__formatPassedText(jQuery(this).text().split(" - ")[0],"infChgFlght.P29"))});__24x7.infChgFlght.P28=travelerArr.length||__24x7.infChgFlght.P28||"--"}if(location.pathname.indexOf("review")>=0){deptMatch=jQuery("table.tblTrip td.tdDepart").eq(0).children("div").eq(3).text().match(/[A-Z]{3}/);
orig=deptMatch[0]||"";__24x7.infChgFlght.P24=orig?(__24x7.infChgFlght.P24.indexOf(__24x7.chngConcat)>=0?__24x7.infChgFlght.P24.split(__24x7.chngConcat)[0]:__24x7.infChgFlght.P24)+__24x7.chngConcat+orig:__24x7.infChgFlght.P24||"--";dests=__funcs.__tripTableDest(__24x7.infChgFlght.P23);__24x7.infChgFlght.P25=dests?(__24x7.infChgFlght.P25.indexOf(__24x7.chngConcat)>=0?__24x7.infChgFlght.P25.split(__24x7.chngConcat)[0]:__24x7.infChgFlght.P25)+__24x7.chngConcat+dests:__24x7.infChgFlght.P25||"--";deptDate=
__funcs.__formatDate(jQuery("table.tblTrip td.tdDepart").eq(0).children("div").eq(2).text()||"");__24x7.infChgFlght.P26=deptDate?(__24x7.infChgFlght.P26.indexOf(__24x7.chngConcat)>=0?__24x7.infChgFlght.P26.split(__24x7.chngConcat)[0]:__24x7.infChgFlght.P26)+__24x7.chngConcat+deptDate:__24x7.infChgFlght.P26||"--";retDates=__funcs.__tripTableRetDate(__24x7.infChgFlght.P23);__24x7.infChgFlght.P27=retDates?(__24x7.infChgFlght.P27.indexOf(__24x7.chngConcat)>=0?__24x7.infChgFlght.P27.split(__24x7.chngConcat)[0]:
__24x7.infChgFlght.P27)+__24x7.chngConcat+retDates:__24x7.infChgFlght.P27||"--"}if(location.pathname.indexOf("confirm")>=0)__24x7.infChgFlght.P21=(__24x7.infChgFlght.P21.indexOf(__24x7.chngConcat)>=0?__24x7.infChgFlght.P21.split(__24x7.chngConcat)[0]:__24x7.infChgFlght.P21)+__24x7.chngConcat+(__funcs.__formatGenericText("#ctl00_ContentInfo_ReservationDetailRevenue_ConfirmItineraryNumbers_spPNR","infBooking.P21")||"--")}if(location.pathname.indexOf("/apps/reservation/flight/cancel")>=0){__24x7.infCnclFlght.P21=
__funcs.__formatGenericText("#ctl00_ContentInfo_lblRecordLocator","infCnclFlght.P21")||"--";__24x7.infCnclFlght.P22=jQuery("div.paymentContainer div.priceDetails h3").text().toLowerCase().indexOf("mile")>=0?"Award":"Revenue";var cnclFltDeptArr=jQuery("table.tblTrip td.tdDepart").eq(0).children("div").eq(3).text().match(/[A-Z]{3}/),cnclFltDept=cnclFltDeptArr!==null?cnclFltDeptArr[0]:"",cnclFltDestArr=jQuery("table.tblTrip td.tdArrive").eq(jQuery("table.tblTrip td.tdArrive").length-1).children("div").eq(3).text().match(/[A-Z]{3}/),
cnclFltDest=cnclFltDestArr!==null?cnclFltDestArr[0]:"";__24x7.infCnclFlght.P23=jQuery("table.tblTrip").length===1?"OW":jQuery("table.tblTrip").length===2&&cnclFltDept&&cnclFltDest&&cnclFltDept===cnclFltDest?"RT":"MD";__24x7.infCnclFlght.P24=cnclFltDept||"--";__24x7.infCnclFlght.P25=__funcs.__tripTableDest(__24x7.infCnclFlght.P23)||__24x7.infCnclFlght.P25||"--";__24x7.infCnclFlght.P26=__funcs.__formatDate(jQuery("table.tblTrip td.tdDepart").eq(0).children("div").eq(2).text()||"--");__24x7.infCnclFlght.P27=
__funcs.__tripTableRetDate(__24x7.infCnclFlght.P23)||__24x7.infCnclFlght.P27||"--";__24x7.infCnclFlght.P28=__24x7.infViewRes.P28||jQuery("#ctl00_ContentInfo_PriceRevenueSummary_Price_ctl00_trDisplayTypeClass td").eq(0).text().split(" ")[0]||jQuery("#ctl00_ContentInfo_PriceRewardSummary_Price_ctl00_trDisplayTypeClass td").eq(0).text().split(" ")[0]||"--"}__funcs.__saveCookieData()}catch(err){window._24x7Error(err,"__grabPageData")}};__funcs.__grabPageDataOnload=function(){try{if(location.pathname.indexOf("/apps/reservation/default.aspx")>=
0)jQuery("body").on("click","a[id$\x3d'_ItinRecapCurrent_rptItineraries_ctl00_ItinRecap_ManageOptionsFlight_linkView']",function(){__24x7.infViewRes.P21=__funcs.__formatGenericText(jQuery(this).parent().parent().siblings("span[id*\x3d'_spanConfNum']"),"infViewRes.P21")||"--";__funcs.__saveValue(__24x7.cookieName.viewres,__24x7.infViewRes)});if(location.pathname.indexOf("/apps/reservation/flight/view/")>=0)jQuery("body").on("click","#ctl00_ContentInfo_ViewRes_ManageOptions_linkChangeFlight, #ctl00_ContentInfo_ViewRes_linkChangeFlight",
function(){__24x7.infChgFlght.P21=__funcs.__formatGenericText("#ctl00_ContentInfo_ViewRes_ConfirmItineraryNumbers1_spPNR","infChgFlght.P21")||"--";__funcs.__saveValue(__24x7.cookieName.chgflght,__24x7.infChgFlght)});if(location.pathname.indexOf("/apps/reservation/default.aspx")>=0)jQuery("body").on("click","a[id*\x3d'_linkChangeFlight']",function(){__24x7.infChgFlght.P21=__funcs.__formatGenericText(jQuery(this).parent().parent().siblings("span[id*\x3d'_spanConfNum']"),"infChgFlght.P21")||"--";__funcs.__saveValue(__24x7.cookieName.chgflght,
__24x7.infChgFlght)})}catch(err){window._24x7Error(err,"__grabPageDataOnload")}};__funcs.__resetData=function(){try{__funcs.__clearValue(__24x7.cookieName.session);__funcs.__clearValue(__24x7.cookieName.global);__funcs.__clearValue(__24x7.cookieName.booking);__funcs.__clearValue(__24x7.cookieName.personal);__funcs.__clearValue("ua_247.UAsession");__funcs.__clearValue("ua_247.traveler");__funcs.__clearValue("UA.247.signinAttemptCnt")}catch(err){window._24x7Error(err)}};try{__funcs.__grabCookieData();
__funcs.__getCookieID();__funcs.__grabPageDataOnload();var UAsessionID=Bootstrapper.localS.utilities.__getData("ua_247.UAsession");if(typeof UAsessionID!="undefined"&&UAsessionID!==""){if(UAsessionID!==Bootstrapper.dataObject.UASessionID){__funcs.__resetData();__funcs.__saveValue("ua_247.UAsession",Bootstrapper.dataObject.UASessionID,2)}}else{__funcs.__resetData();__funcs.__saveValue("ua_247.UAsession",Bootstrapper.dataObject.UASessionID,2)}if(location.pathname.indexOf("/flight-search/book-a-flight")<
0&&__24x7.infSession.P32&&__24x7.infSession.P32.indexOf("/flight-search/book-a-flight")<0&&!__24x7.isError){__24x7.infBooking={};if(Bootstrapper.Cookies.get(__24x7.cookieName.booking))__funcs.__clearValue(__24x7.cookieName.booking)}if(location.pathname.indexOf("/apps/reservation/flight/view/")<0&&__24x7.infSession.P32&&__24x7.infSession.P32.indexOf("/apps/reservation/flight/view/")<0&&!__24x7.isError){__24x7.infViewRes={};if(Bootstrapper.Cookies.get(__24x7.cookieName.viewres))__funcs.__clearValue(__24x7.cookieName.viewres)}if(location.pathname.indexOf("/apps/reservation/flight/change/")<
0&&__24x7.infSession.P32&&__24x7.infSession.P32.indexOf("/apps/reservation/flight/change/")<0&&!__24x7.isError){__24x7.infChgFlght={};if(Bootstrapper.Cookies.get(__24x7.cookieName.chgflght))__funcs.__clearValue(__24x7.cookieName.chgflght)}if(location.pathname.indexOf("/apps/reservation/flight/cancel")<0&&__24x7.infSession.P32&&__24x7.infSession.P32.indexOf("/apps/reservation/flight/cancel")<0&&!__24x7.isError){__24x7.infCnclFlght={};if(Bootstrapper.Cookies.get(__24x7.cookieName.cnclflght))__funcs.__clearValue(__24x7.cookieName.cnclflght)}if(location.pathname.indexOf("error.aspx")>=
0){__24x7.isError=true;if(location.pathname.indexOf("/apps/booking/flight")>-1||document.referrer.indexOf("/apps/booking/flight")>-1)__24x7.infSession.P13="Booking Error";else if(location.pathname.indexOf("/apps/reservation")>-1||document.referrer.indexOf("/apps/reservation")>-1)__24x7.infSession.P13="ManageRes Error";__funcs.__triggerError()}if(jQuery("body").hasClass("Error")){var errorTag=jQuery("#main-content").find(".error-content");__24x7.isError=true;if(location.pathname.indexOf("/flight-search/book-a-flight")>
-1||document.referrer.indexOf("/flight-search/book-a-flight")>-1)__24x7.infSession.P13="Booking Error";if(location.pathname.indexOf("/flight-search/book-a-flight/billinginfo/default/rev")>-1){var errrorConfNum=jQuery(".error-content").children().eq(4).text();__24x7.infSession.P21=errrorConfNum}if(jQuery(errorTag).children("h1").text().toLowerCase()=="error"){var str=jQuery(errorTag).children("p:nth-of-type(2)").text();var sPos=str.search("code:");var errCode=str.substring(sPos+5);errCode=jQuery.trim(errCode);
if(errCode!=="")__24x7.infSession.P14=errCode;else __24x7.infSession.P14="--"}__funcs.__triggerError()}__24x7.signinFailureCnt=0;$(document).ajaxComplete(function(evt,jqXHR,obj){var respText=jqXHR.responseText;if(respText&&respText.toLowerCase().indexOf("frm-login")>-1)if(respText.toLowerCase().indexOf("field-validation-error")>-1){__24x7.signinFailureCnt++;if(__24x7.signinFailureCnt===3){__24x7.isError=true;__funcs.__grabPageData();__24x7.infSession.P13="signin failure";__funcs.__triggerError();
__24x7.signinFailureCnt=0}}else if(respText.toLowerCase().indexOf("field-validation-valid")>-1)__24x7.signinFailureCnt=0});if(jQuery.fn.on)jQuery("body").on("click","a[title\x3d'Click to speak to a representative.']",function(){__funcs.__grabPageData();__24x7.isError=true;__24x7.infSession.P13="click to talk";__funcs.__triggerError()});else jQuery("a[title\x3d'Click to speak to a representative.']").click(function(){__funcs.__grabPageData();__24x7.isError=true;__24x7.infSession.P13="click to talk";
__funcs.__triggerError()});jQuery(window).unload(function(){try{__funcs.__grabPageData()}catch(err){window._24x7Error(err)}})}catch(err){window._24x7Error(err,"maintenance")}try{if(location.host.indexOf("stage.")>=0){var rtiPage=location.pathname.match(/reviewaward.aspx|reviewrevenue.aspx/i)!==null,billPage=location.pathname.match(/billingaward.aspx|billingrevenue.aspx/i)!==null;if(rtiPage||billPage){__24x7.isError=false;__24x7.infSession.P13=rtiPage?"trip itinerary":billPage?"billing info":"unknown";
__funcs.__triggerError()}}}catch(err){window._24x7Error(err,"test trigger")}}catch(err){window._24x7Error(err,"whole block")}}},1506603,[2011281],349503,[248942]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.getQueryParam=function(key,loc){if(!this.params||loc){var search=loc||window.location.search;var params=search.replace(/^\?/,""),paramObj={};params=params.split("\x26");for(var i=0;i<params.length;i++){var t=params[i].split("\x3d");paramObj[t[0]]=t[1]}if(!loc)this.params=paramObj;else return paramObj[key]||""}return this.params[key]||""};var setupAct=true,urlSearch=
document.location.search.slice(1);if(urlSearch!==""){var searchArr=document.location.search.slice(1).split("\x26"),searchObj={};for(var i=0;i<searchArr.length;i++){var keyVal=searchArr[i].split("\x3d");if(keyVal.length>1&&keyVal[0]&&keyVal[1])searchObj[keyVal[0].toLowerCase()]=keyVal[1].toLowerCase()}if(searchObj.activate&&searchObj.activate==="no")setupAct=false}if(setupAct){if(!window.JSON||typeof JSON!=="object")window[ensightenOptions.ns].JSON={};(function(){var JSON=window.JSON?window.JSON:window[ensightenOptions.ns].JSON;
function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,
length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function")value=value.toJSON(key);if(typeof rep==="function")value=rep.call(holder,key,value);switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";case "boolean":case "null":return String(value);case "object":if(!value)return"null";gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=
0;i<length;i+=1)partial[i]=str(i,value)||"null";v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1)if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v)partial.push(quote(k)+(gap?": ":":")+v)}}else for(k in value)if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v)partial.push(quote(k)+(gap?": ":":")+v)}v=partial.length===0?"{}":gap?"{\n"+
gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function")JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number")for(i=0;i<space;i+=1)indent+=" ";else if(typeof space==="string")indent=space;rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number"))throw new Error("JSON.stringify");return str("",{"":value})};if(typeof JSON.parse!==
"function")JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object")for(k in value)if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined)value[k]=v;else delete value[k]}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse");}})();window[ensightenOptions.ns].when=function(){when.defer=defer;when.resolve=resolve;when.reject=reject;when.join=join;when.all=all;when.map=map;when.reduce=reduce;when.any=any;when.some=some;when.isPromise=isPromise;function when(promiseOrValue,onFulfilled,onRejected,
onProgress){return resolve(promiseOrValue).then(onFulfilled,onRejected,onProgress)}function Promise(then){this.then=then}Promise.prototype={otherwise:function(onRejected){return this.then(undef,onRejected)},ensure:function(onFulfilledOrRejected){var self=this;return this.then(injectHandler,injectHandler).yield(self);function injectHandler(){return resolve(onFulfilledOrRejected())}},"yield":function(value){return this.then(function(){return value})},spread:function(onFulfilled){return this.then(function(array){return all(array,
function(array){return onFulfilled.apply(undef,array)})})},always:function(onFulfilledOrRejected,onProgress){return this.then(onFulfilledOrRejected,onFulfilledOrRejected,onProgress)}};function resolve(value){return promise(function(resolve){resolve(value)})}function reject(promiseOrValue){return when(promiseOrValue,rejected)}function defer(){var deferred,pending,resolved;deferred={promise:undef,resolve:undef,reject:undef,notify:undef,resolver:{resolve:undef,reject:undef,notify:undef}};deferred.promise=
pending=promise(makeDeferred);return deferred;function makeDeferred(resolvePending,rejectPending,notifyPending){deferred.resolve=deferred.resolver.resolve=function(value){if(resolved)return resolve(value);resolved=true;resolvePending(value);return pending};deferred.reject=deferred.resolver.reject=function(reason){if(resolved)return resolve(rejected(reason));resolved=true;rejectPending(reason);return pending};deferred.notify=deferred.resolver.notify=function(update){notifyPending(update);return update}}
}function promise(resolver){var value,handlers=[];try{resolver(promiseResolve,promiseReject,promiseNotify)}catch(e){promiseReject(e)}return new Promise(then);function then(onFulfilled,onRejected,onProgress){return promise(function(resolve,reject,notify){handlers?handlers.push(function(value){value.then(onFulfilled,onRejected,onProgress).then(resolve,reject,notify)}):enqueue(function(){value.then(onFulfilled,onRejected,onProgress).then(resolve,reject,notify)})})}function promiseResolve(val){if(!handlers)return;
value=coerce(val);scheduleHandlers(handlers,value);handlers=undef}function promiseReject(reason){promiseResolve(rejected(reason))}function promiseNotify(update){if(handlers)scheduleHandlers(handlers,progressing(update))}}function coerce(x){if(x instanceof Promise)return x;else if(x!==Object(x))return fulfilled(x);return promise(function(resolve,reject,notify){enqueue(function(){try{var untrustedThen=x.then;if(typeof untrustedThen==="function")fcall(untrustedThen,x,resolve,reject,notify);else resolve(fulfilled(x))}catch(e){reject(e)}})})}
function fulfilled(value){var self=new Promise(function(onFulfilled){try{return typeof onFulfilled=="function"?coerce(onFulfilled(value)):self}catch(e){return rejected(e)}});return self}function rejected(reason){var self=new Promise(function(_,onRejected){try{return typeof onRejected=="function"?coerce(onRejected(reason)):self}catch(e){return rejected(e)}});return self}function progressing(update){var self=new Promise(function(_,__,onProgress){try{return typeof onProgress=="function"?progressing(onProgress(update)):
self}catch(e){return progressing(e)}});return self}function scheduleHandlers(handlers,value){enqueue(function(){var handler,i=0;while(handler=handlers[i++])handler(value)})}function isPromise(promiseOrValue){return promiseOrValue&&typeof promiseOrValue.then==="function"}function some(promisesOrValues,howMany,onFulfilled,onRejected,onProgress){checkCallbacks(2,arguments);return when(promisesOrValues,function(promisesOrValues){return promise(resolveSome).then(onFulfilled,onRejected,onProgress);function resolveSome(resolve,
reject,notify){var toResolve,toReject,values,reasons,fulfillOne,rejectOne,len,i;len=promisesOrValues.length>>>0;toResolve=Math.max(0,Math.min(howMany,len));values=[];toReject=len-toResolve+1;reasons=[];if(!toResolve)resolve(values);else{rejectOne=function(reason){reasons.push(reason);if(!--toReject){fulfillOne=rejectOne=noop;reject(reasons)}};fulfillOne=function(val){values.push(val);if(!--toResolve){fulfillOne=rejectOne=noop;resolve(values)}};for(i=0;i<len;++i)if(i in promisesOrValues)when(promisesOrValues[i],
fulfiller,rejecter,notify)}function rejecter(reason){rejectOne(reason)}function fulfiller(val){fulfillOne(val)}}})}function any(promisesOrValues,onFulfilled,onRejected,onProgress){function unwrapSingleResult(val){return onFulfilled?onFulfilled(val[0]):val[0]}return some(promisesOrValues,1,unwrapSingleResult,onRejected,onProgress)}function all(promisesOrValues,onFulfilled,onRejected,onProgress){checkCallbacks(1,arguments);return map(promisesOrValues,identity).then(onFulfilled,onRejected,onProgress)}
function join(){return map(arguments,identity)}function map(array,mapFunc){return when(array,function(array){return promise(resolveMap);function resolveMap(resolve,reject,notify){var results,len,toResolve,resolveOne,i;toResolve=len=array.length>>>0;results=[];if(!toResolve)resolve(results);else{resolveOne=function(item,i){when(item,mapFunc).then(function(mapped){results[i]=mapped;if(!--toResolve)resolve(results)},reject,notify)};for(i=0;i<len;i++)if(i in array)resolveOne(array[i],i);else--toResolve}}
})}function reduce(promise,reduceFunc){var args=fcall(slice,arguments,1);return when(promise,function(array){var total;total=array.length;args[0]=function(current,val,i){return when(current,function(c){return when(val,function(value){return reduceFunc(c,value,i,total)})})};return reduceArray.apply(array,args)})}var reduceArray,slice,fcall,nextTick,handlerQueue,timeout,funcProto,call,arrayProto,undef;handlerQueue=[];function enqueue(task){if(handlerQueue.push(task)===1)scheduleDrainQueue()}function scheduleDrainQueue(){nextTick(drainQueue)}
function drainQueue(){var task,i=0;while(task=handlerQueue[i++])task();handlerQueue=[]}timeout=setTimeout;nextTick=typeof setImmediate==="function"?typeof window==="undefined"?setImmediate:setImmediate.bind(window):typeof process==="object"&&process.nextTick?process.nextTick:function(task){timeout(task,0)};funcProto=Function.prototype;call=funcProto.call;fcall=funcProto.bind?call.bind(call):function(f,context){return f.apply(context,slice.call(arguments,2))};arrayProto=[];slice=arrayProto.slice;reduceArray=
arrayProto.reduce||function(reduceFunc){var arr,args,reduced,len,i;i=0;arr=Object(this);len=arr.length>>>0;args=arguments;if(args.length<=1)for(;;){if(i in arr){reduced=arr[i++];break}if(++i>=len)throw new TypeError;}else reduced=args[1];for(;i<len;++i)if(i in arr)reduced=reduceFunc(reduced,arr[i],i,arr);return reduced};function checkCallbacks(start,arrayOfCallbacks){var arg,i=arrayOfCallbacks.length;while(i>start){arg=arrayOfCallbacks[--i];if(arg!=null&&typeof arg!="function")throw new Error("arg "+
i+" must be a function");}}function noop(){}function identity(x){return x}return when}();(function(){var when,slice;when=window[ensightenOptions.ns].when;slice=[].slice;when.apply=apply;when.call=call;when.lift=lift;when.bind=lift;when.compose=compose;function apply(func,promisedArgs){return when.all(promisedArgs||[],function(args){return func.apply(null,args)})}function call(func){return apply(func,slice.call(arguments,1))}function lift(func){var args=slice.call(arguments,1);return function(){return apply(func,
args.concat(slice.call(arguments)))}}function compose(f){var funcs=slice.call(arguments,1);return function(){var args=slice.call(arguments);var firstPromise=apply(f,args);return when.reduce(funcs,function(arg,func){return func(arg)},firstPromise)}}})();window[ensightenOptions.ns].data=function(window,undefined){var _private={engines:{memory:{get:function(key){if(!_public.utils.isArray(key))return window[ensightenOptions.ns].when.resolve(_private.data[key]);else{var data=[];for(var i=0;i<key.length;i++)data.push(_private.data[key[i]]);
return window[ensightenOptions.ns].when.resolve(data)}},set:function(key,val){if(!_public.utils.isArray(key)){_private.data[key]=val;return window[ensightenOptions.ns].when.resolve(true)}else{for(var k in key)_private.data[key[k]]=val[k];return window[ensightenOptions.ns].when.resolve(true)}},remove:function(key){if(!_public.utils.isArray(key)){delete _private.data[key];return window[ensightenOptions.ns].when.resolve(true)}else{for(var k in key)delete _private.data[key[k]];return window[ensightenOptions.ns].when.resolve(true)}},
clear:function(key){_private.data={};_private.definitions={};return window[ensightenOptions.ns].when.resolve(true)},all:function(){return window[ensightenOptions.ns].when.resolve(_private.data)}}},normalizeInputArgs:function(key,val){var normalized={key:[],val:undefined},k;if(_public.utils.isPlainObject(key)){normalized.val=[];for(k in key){normalized.key.push(k);normalized.val.push(key[k])}}else if(_public.utils.isArray(key)){normalized.key=key;normalized.val=val}else{normalized.key=key;normalized.val=
val}return normalized},definitions:{},data:{}},_public={utils:{isPlainObject:function(value){return!!value&&Object.prototype.toString.call(value)==="[object Object]"},isArray:function(obj){return Object.prototype.toString.call(obj)==="[object Array]"}}},noop=function(){return window[ensightenOptions.ns].when.reject("Not Implemented.")};function DataDefinitionException(ddArr,optionalMsg){this.name="DataDefinitionException";this.message=optionalMsg||"Data definitions cannot be resolved as there are invalid id(s): "+
ddArr}DataDefinitionException.prototype=new Error;if(!DataDefinitionException.prototype)DataDefinitionException.prototype={};DataDefinitionException.prototype.constructor=DataDefinitionException;_private.DataDefinitionException=DataDefinitionException;_private.checkForInvalidDataDefinitions=function checkForInvalidDataDefinitions(ddArr){if(ddArr&&ddArr.length>0){var ddArrStr=ddArr.join(",");if(ddArrStr.indexOf("invalid_id")>-1){window[ensightenOptions.ns].reportException(new _private.DataDefinitionException(ddArrStr));
return true}}return false};_private.collectAvailableDataDefinitions=function collectAvailableDataDefinitions(ddArr){var promisesArr=[];for(var i=0;i<ddArr.length;i++){var dd=parseInt(ddArr[i],10),dataDef=window[ensightenOptions.ns].dataDefinitions[dd];if(dataDef===null||dataDef===undefined){window[ensightenOptions.ns].reportException(new _private.DataDefinitionException(ddArr,"Invalid data definition used: "+dd));return{promises:[],isInvalid:true}}else promisesArr.push(window[ensightenOptions.ns].data.get(ddArr[i]))}return{promises:promisesArr,
isInvalid:false}};_private.dataDefinitions={};_private.dataDefinitionsBySourceCollName={};_public.defineEngine=function(name,object){var i,methods=["get","set","remove","clear","all"];_private.engines[name]=object;if(!object.returnsPromise)for(i=0;i<methods.length;i++){var m=methods[i];object[m]=window[ensightenOptions.ns].when.lift(object[m])}};_public.getEngine=_public.engine=function(name){return name?_private.engines[name]||{get:noop,set:noop,remove:noop,clear:noop,all:noop}:_private.engines};
_public.all=function(engine){engine=engine||"memory";return window[ensightenOptions.ns].data.engine(engine).all()};_public.get=function(key,engine,options){engine=engine||"memory";options=options||{};var keys,normalizedInput;if(key.indexOf(",")>-1){keys=key.split(",");normalizedInput=_private.normalizeInputArgs(keys)}else normalizedInput=_private.normalizeInputArgs(key);if(options.wait)return _private.getWait(normalizedInput.key,window[ensightenOptions.ns].data.engine(engine),options);else{var keyExists=
_private.data?_private.data.hasOwnProperty(normalizedInput.key):false;if(!keyExists)return _private.getWaitForKey(normalizedInput.key,window[ensightenOptions.ns].data.engine(engine),options);return window[ensightenOptions.ns].data.engine(engine).get(normalizedInput.key)}};_private.getWait=function(key,engine,options){var startTime=+new Date,defer=window[ensightenOptions.ns].when.defer(),doIt=function(){var dataPromise=engine.get(key);if(options.wait===-1)return dataPromise;dataPromise.then(function(val){if(!options.setCheck(val))setTimeout(tryAgain,
options.interval);else defer.resolve(val)},function(err){setTimeout(tryAgain,options.interval)})},tryAgain=function(){var currentTime=+new Date,elapsed=currentTime-startTime;if(options.wait!==-1&&elapsed<options.wait)doIt();else defer.reject("Timeout")};options.interval=options.interval||500;options.wait=options.wait||5E3;if(!_public.utils.isArray(key))options.setCheck=options.setCheck||function(val){return!!val};else options.setCheck=options.setCheck||function(val){var ret=true;for(var i=0;i<val.length;i++)ret=
ret&&!!val[i];return ret};doIt();return defer.promise};_private.getWaitForKey=function(key,engine,options){var defer=window[ensightenOptions.ns].when.defer(),doIt=function(){var keyExists=_private.data?_private.data.hasOwnProperty(key):false;if(keyExists){var dataPromise=engine.get(key);if(options.wait===-1)return dataPromise;dataPromise.then(function(val){defer.resolve(val)},function(err){defer.reject(err)})}else setTimeout(tryAgain,options.interval)},tryAgain=function(){doIt()};options.interval=
options.interval||100;options.wait=options.wait||1;doIt();return defer.promise};_public.set=function(key,value,engine){var normalizedInput=_private.normalizeInputArgs(key,value);var args=Array.prototype.slice.call(arguments);engine=engine||"memory";return window[ensightenOptions.ns].data.engine(engine).set(normalizedInput.key,normalizedInput.val)};_public.remove=function(key,engine){engine=engine||"memory";return window[ensightenOptions.ns].data.engine(engine).remove(key)};_public.clear=function(engine){engine=
engine||"memory";return window[ensightenOptions.ns].data.engine(engine).clear()};_public.define=function(options,old){if(old){options.name=old.id||old.name;options.persist=old.memLevel}if(!options.name)return window[ensightenOptions.ns].when.reject(new Error("Invalid parameters: missing 'name'"));options.id=options.name;options.load=options.load||"javascript";options.load=options.load.indexOf("javascript")>-1?options.load:options.load+",javascript";options.trigger=options.trigger||function(){return window[ensightenOptions.ns].when.resolve()};
options.priv=options.priv||false;options.persist=options.persist||options.load.replace("javascript","memory").replace("local","store").replace("cloud","hpps")||"memory";options.collection=options.collection||"Data Layer";if(options.persist.indexOf(",")>-1)options.persist=options.persist.split(",");else options.persist=[options.persist];for(var i=0;i<options.persist.length;i++)options.persist[i]=window[ensightenOptions.ns].data.engine(options.persist[i]);var fnE=options.extract||function(){return document},
fnT=options.transform||function(elem){return elem.toString()},fnL=function(name,value){var promises=[],p=options.persist;for(var i=0;i<p.length;i++)promises.push(p[i].set(name,value));if(typeof window[ensightenOptions.ns].data.dataExport=="object")window[ensightenOptions.ns].data.dataExport(name,value,options.collection);window[ensightenOptions.ns].when.all(promises).then(function(val){defer.resolve(val)},function(err){defer.reject(err)})},defer=window[ensightenOptions.ns].when.defer();options.trigger().then(function(){defer.resolve(window[ensightenOptions.ns].when.reduce([fnE(),
fnT,fnL],function(previous,current,index,total){if(index==1)return current(previous);else if(index==2)current(options.name,previous)}))},function(err){defer.reject(err)});_private.dataDefinitions[options.id]=options;var source_coll_name_key=""+options.source+"."+options.collection+"."+options.dataDefName;_private.dataDefinitionsBySourceCollName[source_coll_name_key]=options;return defer.promise};_public.checkConditions=function(conditions){var i,comparatorFns={lt:function(compareWith,compareTo){return compareWith<
compareTo},gt:function(compareWith,compareTo){return compareWith>compareTo},eql:function(compareWith,compareTo){return compareWith==compareTo},exists:function(compareWith,compareTo){var compareTo=compareTo||"";return compareTo!=""},starts:function(compareWith,compareTo,c){var regEx=new RegExp("^"+compareTo,c?"i":"");try{return compareWith.match(regEx)}catch(e){return false}},ends:function(compareWith,compareTo,c){var regEx=new RegExp(compareTo+"$",c?"i":"");try{return compareWith.match(regEx)}catch(e){return false}},
contains:function(compareWith,compareTo,c){var regEx=new RegExp(".*"+compareTo+".*",c?"i":"");try{return compareWith.match(regEx)}catch(e){return false}}};comparatorFns["is"]=comparatorFns["eql"];comparatorFns["starts with"]=comparatorFns["starts"];comparatorFns["ends with"]=comparatorFns["ends"];for(var i=0;i<conditions.values.length;i++){var compareMethod=conditions.customComparator?conditions.customComparator[i]?conditions.customComparator[i]:comparatorFns[conditions.comparators[i]]:comparatorFns[conditions.comparators[i]],
passComparator=compareMethod(conditions.values[i],conditions.compareTo[i],conditions.caseInsensitive?conditions.caseInsensitive[i]||false:false);if(conditions.not[i])passComparator=!passComparator;if(!passComparator)return false}return true};_public.triggerPromise=function(fn,compareTo,timeout){timeout=timeout||5E3;var start=+new Date,defer=window[ensightenOptions.ns].when.defer(),checkForPass=function(){var check=fn();if(check!=compareTo)defer.resolve(check);else if(window[ensightenOptions.ns].hasDOMParsed())defer.reject("DOM parsed, timeout");
else if(+new Date-start<timeout)setTimeout(arguments.callee,200);else defer.reject("timed out")};checkForPass();return defer.promise};_public.timeoutPromise=function(promise,ms){var d=window[ensightenOptions.ns].when.defer(),ms=ms||800;promise.then(d.resolve,d.reject);setTimeout(function(){d.reject(new Error("timed out"))},ms);return d.promise};_public.delayTrigger=function(delay){delay=delay||10;var defer=window[ensightenOptions.ns].when.defer();setTimeout(function(){defer.resolve()},delay);return defer.promise};
_public.delayUntilTrigger=function(fn,compareTo,timeout,pollInterval){timeout=timeout||null;pollInterval=pollInterval||200;var start=+new Date,defer=window[ensightenOptions.ns].when.defer(),checkForPass=function(){var check=fn();if(check!=compareTo)defer.resolve(check);else if(timeout)if(+new Date-start<timeout)setTimeout(arguments.callee,pollInterval);else defer.reject("timed out");else setTimeout(arguments.callee,pollInterval)};checkForPass();return defer.promise};_public.getAllDataDefinitionsOnCurrentPage=
function(){return _private.dataDefinitions};_public.getAllDataDefinitionsOnCurrentPage_S_C_N=function(){return _private.dataDefinitionsBySourceCollName};_public.getDataDefinitionById=function(id){id=id||-1;return _private.dataDefinitions[id]||{}};_public.getDataDefinitionBySourceCollectionName=function(source,collection,name){var source_coll_name_key=""+source+"."+collection+"."+name;return _private.dataDefinitionsBySourceCollName[source_coll_name_key]||{}};_public.getDataDefinitionByPercentSyntax=
function(source_id_random){source_id_random=""+source_id_random;var parts=source_id_random.split("_");if(parts.length<1)return{};var id=parts[1];return _private.dataDefinitions[id]||{}};_public.resolve=function(ddArr,cb){var self=this;if(!_private.checkForInvalidDataDefinitions(ddArr))window[ensightenOptions.ns].bindDataDefinitionComplete(function(){var validatedDataDefinitions=_private.collectAvailableDataDefinitions(ddArr);if(validatedDataDefinitions.isInvalid)return;var promises=validatedDataDefinitions.promises;
window[ensightenOptions.ns].when.all(promises).then(function(resolvedArr){try{cb.apply(self,resolvedArr)}catch(err){window[ensightenOptions.ns].reportException(new _private.DataDefinitionException(ddArr,"Error resolving data definitions: "+ddArr+". Details: "+err))}},function(err){window[ensightenOptions.ns].reportException(new _private.DataDefinitionException(ddArr,"Error resolving data definitions: "+ddArr+". Details: "+err))})})};_public.extract=function(g,t){var value="",getElementByXPathStep=
function(d,a){var c=~a.indexOf("#")?a.split("#")[1]:"",e=c?0:~a.indexOf("[")?parseInt(a.match(/\[(\d+)\]/)[1]):0,f=(c?a.split("#")[0]:e?a.split("[")[0]:a).toLowerCase();if(d==document&&f=="html"&&e==0)return document.getElementsByTagName("html")[0];if(~a.indexOf("#"))return document.getElementById(a.split("#")[1]);var b=d.firstChild;if(!b)return null;for(var g=0,e=e!=0?e-1:e;b;){if(b.nodeType==1)if(b.tagName.toLowerCase()==f&&c!=""&&b.id==c)return b;else if(b.tagName.toLowerCase()==f&&g==e&&c=="")return b;
else b.tagName.toLowerCase()==f&&g++;b=b.nextSibling}},getElementByXPath=function(d,n){for(var d=d.split("/"),a=getElementByXPathStep(n||document,d[1]),c=2;c<d.length;c++){if(a==null)return null;a=getElementByXPathStep(a,d[c])}return a},getMetaCache=function(){var cache={},metas=window.document.getElementsByTagName("META")||[];for(var m=0,len=metas.length;m<len;m++){var name=metas[m].name||metas[m].getAttribute("property")||"";if(name.length!==0)cache[name]=metas[m].content}return cache}(),getMeta=
function(n){var meta=getMetaCache[n];if(meta)return meta;var metas=window.document.getElementsByTagName("META")||[];for(var m=0,len=metas.length;m<len;m++){var name=metas[m].name||metas[m].getAttribute("property")||"";if(n==name)return metas[m].content}},getParam=function(p){return(val=(new RegExp("\x26"+p+"\x3d([^\x26]*)")).exec(window.location.search.replace(/^\?/,"\x26")))?val[0].split("\x3d")[1]:""},getCookie=function(c){return(val=(new RegExp("^"+c+"\x3d.*|;\\s*"+c+"\x3d.*")).exec(window.document.cookie))?
val[0].split("\x3d")[1].split(";")[0]:""},getContent=function(x){var n=getElement(x);if(n&&n.nodeType&&n.nodeType==1)n=n.value||n.innerHTML||"";return n.toString().replace(/\n|\r|\s\s+/g,"")||""},getElement=function(x){var n="";if(x.indexOf("/HTML/BODY")==0)n=getElementByXPath(x);else try{n=eval(x)}catch(e){n=""}return n};try{if(t)if(t=="meta")value=getMeta(g);else if(t=="cookie")value=getCookie(g);else if(t=="param")value=getParam(g);else if(t=="content")value=getContent(g);else if(t=="event")value=
getElement(g);else{if(t=="var")value=window[g]}else value=getMeta(g)||getCookie(g)||getParam(g)||getContent(g)||getEvent(g)||window[g]||"";return value||""}catch(e){return""}};if("undefined"==typeof module)var module={exports:{}},exports=module.exports;exports=_public;return _public}(window);window[ensightenOptions.ns].data.defineEngine("store",function(){var api={},win=window,doc=win.document,localStorageName="localStorage",globalStorageName="globalStorage",storage,k,isArray=Array.isArray||function(value){return Object.prototype.toString.call(value)===
"[object Array]"};api.set=function(key,value){};api.get=function(key){};api.remove=function(key){};api.clear=function(){};try{if(localStorageName in win&&win[localStorageName]){storage=win[localStorageName];api.set=function(key,val){var i,l,Json=window.JSON&&window.JSON.stringify?window.JSON:window[ensightenOptions.ns].JSON;if(isArray(key))for(i=0,l=key.length;i<l;i++)storage.setItem(key[i],typeof val[i]==="string"?val[i]:Json.stringify(val[i]));else storage.setItem(key,typeof val==="string"?val:
Json.stringify(val))};api.get=function(key){if(isArray(key)){var items={},i,l;for(i=0,l=key.length;i<l;i++)items[key[i]]=storage.getItem(key[i]);return items}return storage.getItem(key)};api.remove=function(key){if(isArray(key)){var i,l;for(i=0,l=key.length;i<l;i++)storage.removeItem(key[i]);return}storage.removeItem(key)};api.clear=function(){storage.clear()};api.all=function(){return storage}}else if(globalStorageName in win&&win[globalStorageName]){storage=win[globalStorageName][win.location.hostname];
api.set=function(key,val){if(isArray(key)){var i,l;for(i=0,l=key.length;i<l;i++)storage[key[i]]=val[i];return}storage[key]=val};api.get=function(key){if(isArray(key)){var items={},i,l;for(i=0,l=key.length;i<l;i++)items[key[i]]=storage[key[i]]&&storage[key[i]].value;return items}return storage[key]&&storage[key].value};api.remove=function(key){if(isArray(key)){var i,l;for(i=0,l=key.length;i<l;i++)delete storage[key[i]];return}delete storage[key]};api.clear=function(){for(var key in storage)delete storage[key]};
api.all=function(){return storage}}else if(doc.documentElement.addBehavior){var storageOwner,storageContainer;try{storageContainer=new ActiveXObject("htmlfile");storageContainer.open();storageContainer.write("\x3cs"+"cript\x3edocument.w\x3dwindow\x3c/s"+'cript\x3e\x3ciframe src\x3d"/favicon.ico"\x3e\x3c/frame\x3e');storageContainer.close();storageOwner=storageContainer.w.frames[0].document;storage=storageOwner.createElement("div")}catch(e){storage=doc.createElement("div");storageOwner=doc.body}function withIEStorage(storeFunction){return function(){var args=
Array.prototype.slice.call(arguments,0);args.unshift(storage);storageOwner.appendChild(storage);storage.addBehavior("#default#userData");storage.load(localStorageName);var result=storeFunction.apply(store,args);storageOwner.removeChild(storage);return result}}var forbiddenCharsRegex=new RegExp("[!\"#$%\x26'()*+,/\\\\:;\x3c\x3d\x3e?@[\\]^`{|}~]","g");function ieKeyFix(key){return key.replace(forbiddenCharsRegex,"___")}api.set=withIEStorage(function(storage,key,val){var k;if(isArray(key)){var i,l;for(i=
0,l=key.length;i<l;i++){fixedKey=ieKeyFix(key[i]);if(val[i]===undefined)return api.remove(fixedKey);storage.setAttribute(fixedKey,val[i]);storage.save(localStorageName)}}else{fixedKey=ieKeyFix(key);if(val===undefined)return api.remove(fixedKey);storage.setAttribute(fixedKey,val);storage.save(localStorageName)}});api.get=withIEStorage(function(storage,key){if(isArray(key)){var items={},fixedKey,i,l;for(i=0,l=key.length;i<l;i++){fixedKey=ieKeyFix(key[i]);items[key[i]]=storage.getAttribute(fixedKey)}return items}key=
ieKeyFix(key);return storage.getAttribute(key)});api.remove=withIEStorage(function(storage,key){if(isArray(key)){var i,l;for(i=0,l=key.length;i<l;i++){storage.removeAttribute(ieKeyFix(key[i]));storage.save(localStorageName)}return}key=ieKeyFix(key);storage.removeAttribute(key);storage.save(localStorageName)});api.clear=withIEStorage(function(storage){var attributes=storage.XMLDocument.documentElement.attributes;storage.load(localStorageName);for(var i=0,attr;attr=attributes[i];i++)storage.removeAttribute(attr.name);
storage.save(localStorageName)});api.all=withIEStorage(function(storage){var attributes=storage.XMLDocument.documentElement.attributes;var ret={};for(var i=0,attr;attr=attributes[i];++i){var key=ieKeyFix(attr.name);ret[attr.name]=storage.getAttribute(key)}return ret})}}catch(e){}var k,utils={};for(k in api)utils[k]=api[k];utils.testStorage=function(){try{var testKey="tk_"+Math.ceil(Math.random()*5E7);utils.set(testKey,"test");if(utils.get(testKey)==="test"){utils.remove(testKey);return true}}catch(e){}return false};
api.utils=utils;window[ensightenOptions.ns].data.local=api;return api}());window[ensightenOptions.ns].data.defineEngine("cookie",function(document,undefined){var cookie=function(){return cookie.get.apply(cookie,arguments)};var utils=cookie.utils={isArray:Array.isArray||function(value){return Object.prototype.toString.call(value)==="[object Array]"},isPlainObject:window[ensightenOptions.ns].data.utils.isPlainObject,toArray:function(value){return Array.prototype.slice.call(value)},getKeys:Object.keys||
function(obj){var keys=[],key="";for(key in obj)if(obj.hasOwnProperty(key))keys.push(key);return keys},escape:function(value){return String(value).replace(/[,;"\\=\s%]/g,function(character){return encodeURIComponent(character)})},retrieve:function(value,fallback){return value==null?fallback:value},getAllCookies:function(){if(document.cookie==="")return{};var cookies=document.cookie.split("; "),result={};for(var i=0,l=cookies.length;i<l;i++){var item=cookies[i].split("\x3d");result[decodeURIComponent(item[0])]=
decodeURIComponent(item[1])}return result},set:function(key,value,options){options=options||-1;if(utils.isPlainObject(key))for(var k in key){if(key.hasOwnProperty(k))cookie.set(k,key[k],value)}else if(utils.isArray(key)){var i,l;for(i=0,l=key.length;i<l;i++)cookie.set(key[i],value[i],options)}else{var expires=options.expires!==undefined?options.expires:cookie.defaults.expires||"",expiresType=typeof expires;if(expiresType==="number")expires=new Date(expires);if(utils.isPlainObject(expires)&&"toGMTString"in
expires)expires=";expires\x3d"+expires.toGMTString();else expires=";expires\x3d"+expires;var path=options.path||cookie.defaults.path;path=path?";path\x3d"+path:"";var domain=options.domain||cookie.defaults.domain;domain=domain?";domain\x3d"+domain:"";var secure=options.secure||cookie.defaults.secure?";secure":"";document.cookie=utils.escape(key)+"\x3d"+utils.escape(value)+expires+path+domain+secure}},get:function(keys,fallback){fallback=fallback||undefined;var cookies=utils.getAllCookies();if(utils.isArray(keys)){var result=
{};for(var i=0,l=keys.length;i<l;i++){result[keys[i]]=utils.retrieve(cookies[keys[i]],fallback);if(result[keys[i]]===undefined)result[keys[i]]=null}return result}else{var result=utils.retrieve(cookies[keys],fallback);if(result===undefined)return null;return result}},getGMTString:function(daysFromToday){var date=new Date;date.setTime(date.getTime()+daysFromToday*24*60*60*1E3);return date.toGMTString()}};cookie.defaults={path:"/",expires:utils.getGMTString(90)};cookie.set=function(key,val){utils.set(key,
val)};cookie.remove=function(keys){keys=utils.isArray(keys)?keys:utils.toArray(arguments);for(var i=0,l=keys.length;i<l;i++)utils.set(keys[i],"",{expires:-1})};cookie.clear=function(){return cookie.remove(utils.getKeys(utils.getAllCookies()))};cookie.get=function(keys,fallback){return utils.get(keys,fallback)};cookie.all=function(){return utils.getAllCookies()};cookie.utils=utils;window[ensightenOptions.ns].data.cookie=cookie;return cookie}(document));(function(){var ns=window[ensightenOptions.ns];
ns.getIEVersion=function(){if(!(navigator.appName=="Microsoft Internet Explorer"))return-1;var version=navigator.appVersion;return parseInt(version.substr(version.indexOf("MSIE")+4))};ns.getXmlRequestObj=function(URL,onSuccess,onFailure){var version=ns.getIEVersion(),request;if(version!==-1&&version<10)try{request=new XDomainRequest;request.onload=function(){onSuccess(request.responseText)};request.onerror=function(e){onFailure("http request failed "+request.responseText+" "+e)};request.open("GET",
URL);request.send(null);return}catch(e){return onFailure("http request not supported: "+e+" ie version "+version)}else try{request=new XMLHttpRequest;request.open("GET",URL,true);request.onreadystatechange=function(){if(request.readyState!=4)return;var response=request.responseText;if(request.status!==200){onFailure("http request failed- "+request.status+" "+response);return}onSuccess(response)};request.send(null);return}catch(e){return onFailure("http request not supported: "+e+" ie version "+version)}onFailure("http request not supported")};
if(!window.atob)(function(){function t(t){this.message=t}var e="undefined"!=typeof exports?exports:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";t.prototype=Error(),t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c="";e.charAt(0|a)||(i="\x3d",a%1);c+=i.charAt(63&o>>8-8*(a%1))){if(n=e.charCodeAt(a+=0.75),n>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return c}),
e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),1==e.length%4)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,a=0,i=0,c="";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(6&-2*a)):0)n=r.indexOf(n);return c})})();ns.encodeB64=function(input){var data=input,JSON=window.JSON?window.JSON:ns.JSON;if(!!input&&Object.prototype.toString.call(input)==="[object Object]")data=JSON.stringify(data);if(window.btoa)return btoa(data);else return B64Lib.encode(data)}})();
(function(){var _global=window;var _rng;if(typeof require=="function")try{var _rb=require("crypto").randomBytes;_rng=_rb&&function(){return _rb(16)}}catch(e){}if(!_rng&&_global.crypto&&crypto.getRandomValues){var _rnds8=new Uint8Array(16);_rng=function whatwgRNG(){crypto.getRandomValues(_rnds8);return _rnds8}}if(!_rng){var _rnds=new Array(16);_rng=function(){for(var i=0,r;i<16;i++){if((i&3)===0)r=Math.random()*4294967296;_rnds[i]=r>>>((i&3)<<3)&255}return _rnds}}var BufferClass=typeof Buffer=="function"?
Buffer:Array;var _byteToHex=[];var _hexToByte={};for(var i=0;i<256;i++){_byteToHex[i]=(i+256).toString(16).substr(1);_hexToByte[_byteToHex[i]]=i}function parse(s,buf,offset){var i=buf&&offset||0,ii=0;buf=buf||[];s.toLowerCase().replace(/[0-9a-f]{2}/g,function(oct){if(ii<16)buf[i+ii++]=_hexToByte[oct]});while(ii<16)buf[i+ii++]=0;return buf}function unparse(buf,offset){var i=offset||0,bth=_byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+
bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}var _seedBytes=_rng();var _nodeId=[_seedBytes[0]|1,_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]];var _clockseq=(_seedBytes[6]<<8|_seedBytes[7])&16383;var _lastMSecs=0,_lastNSecs=0;function v1(options,buf,offset){var i=buf&&offset||0;var b=buf||[];options=options||{};var clockseq=options.clockseq!=null?options.clockseq:_clockseq;var msecs=options.msecs!=
null?options.msecs:(new Date).getTime();var nsecs=options.nsecs!=null?options.nsecs:_lastNSecs+1;var dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1E4;if(dt<0&&options.clockseq==null)clockseq=clockseq+1&16383;if((dt<0||msecs>_lastMSecs)&&options.nsecs==null)nsecs=0;if(nsecs>=1E4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs;_lastNSecs=nsecs;_clockseq=clockseq;msecs+=122192928E5;var tl=((msecs&268435455)*1E4+nsecs)%4294967296;b[i++]=tl>>>24&255;b[i++]=tl>>>16&255;b[i++]=
tl>>>8&255;b[i++]=tl&255;var tmh=msecs/4294967296*1E4&268435455;b[i++]=tmh>>>8&255;b[i++]=tmh&255;b[i++]=tmh>>>24&15|16;b[i++]=tmh>>>16&255;b[i++]=clockseq>>>8|128;b[i++]=clockseq&255;var node=options.node||_nodeId;for(var n=0;n<6;n++)b[i+n]=node[n];return buf?buf:unparse(b)}function v4(options,buf,offset){var i=buf&&offset||0;if(typeof options=="string"){buf=options=="binary"?new BufferClass(16):null;options=null}options=options||{};var rnds=options.random||(options.rng||_rng)();rnds[6]=rnds[6]&
15|64;rnds[8]=rnds[8]&63|128;if(buf)for(var ii=0;ii<16;ii++)buf[i+ii]=rnds[ii];return buf||unparse(rnds)}var uuid=window[ensightenOptions.ns].data.uuidFunc=v4;uuid.v1=v1;uuid.v4=v4;uuid.parse=parse;uuid.unparse=unparse;uuid.BufferClass=BufferClass;if(typeof define==="function"&&define.amd)define(function(){return uuid});else if(typeof module!="undefined"&&module.exports)module.exports=uuid;else uuid.noConflict=function(){return uuid}}).call(this);window[ensightenOptions.ns].data.hppsConfig={hppsURL:"//activate.united.com",
profileSync:false};window[ensightenOptions.ns].data.defineEngine("hpps",function(){var ieVersion=window[ensightenOptions.ns].getIEVersion(),ns=window[ensightenOptions.ns];if(ieVersion!==-1&&ieVersion<8){var funcNames=["set","get","callService","remove","clear","all"];var emptyInterface={};for(k in funcNames)emptyInterface[funcNames[k]]=function(){return ns.when.defer().promise()};return emptyInterface}var cookies=ns.data.getEngine("cookie").utils,localS=ns.data.getEngine("store").utils,JSON=window.JSON?
window.JSON:ns.JSON;if(!localS.testStorage())localS={"set":function(){},"get":function(){}};var _private={cache:{},onIDChangeCallbacks:[],profileSyncPromises:{},isPlainObject:function(value){return!!value&&Object.prototype.toString.call(value)==="[object Object]"},isArray:Array.isArray||function(value){return Object.prototype.toString.call(value)==="[object Array]"},setSessionKey:function(key){var expires="",date=new Date;if(!ns.data.hppsConfig.useLocalStorageSession){if(ns.data.hppsConfig.sessionExpirationSecs){date.setTime(date.getTime()+
window[ensightenOptions.ns].data.hppsConfig.sessionExpirationSecs*1E3);expires=date.toGMTString()}cookies.set("ensightenSK",key,{"expires":expires})}else{var exp;if(ns.data.hppsConfig.sessionExpirationSecs)exp=ns.data.hppsConfig.sessionExpirationSecs;else exp=43200;expires=date.getTime()+exp*1E3;localS.set("_act_sk",expires)}},getSessionKey:function(){if(!ns.data.hppsConfig.useLocalStorageSession)return cookies.get("ensightenSK");else{var sk=localS.get("_act_sk");if(sk&&sk.length>0)try{sk=parseInt(sk);
if(sk>(new Date).getTime())return""+sk}catch(e){}return undefined}},dispatchRequest:function(baseUrl,data,onSuccess,onFailure){var request=ns.getXmlRequestObj(_public.hppsURL()+"?json\x3d"+encodeURIComponent(JSON.stringify(data)),onSuccess,onFailure)},createPromise:function(ajaxFunc,optionalTransformation){var defered=window[ensightenOptions.ns].when.defer();ajaxFunc(_public.hppsURL(),_private.requestData,function(message){if(optionalTransformation)defered.resolve(optionalTransformation(message));
else defered.resolve(message)},function(message){defered.reject(message)});return defered.promise},transformViewResult:function(message){var resultSet=JSON.parse(message);var transformed={},k,elemName;for(k in resultSet){elemName=resultSet[k].value._elem;transformed[elemName]=_private.createTransformGetResultFunction(elemName)(resultSet[k].value)[elemName]}return transformed},onIdentityChange:function(){for(var i=0;i<_private.onIDChangeCallbacks.length;i++)if(_private.onIDChangeCallbacks[i])_private.onIDChangeCallbacks[i]()},
createTransformGetResultFunction:function(keys){return function(message){var data,k,elem;data=_private.isPlainObject(message)?message:JSON.parse(message);if(_private.isArray(data)){var resultObj={};for(k in keys)resultObj[keys[k]]=null;for(k in data){if(data[k]===null)continue;elem=data[k]["_elem"];if("_data"in data[k])resultObj[elem]=data[k]._data;else{delete data[k]["_uid"];delete data[k]["_elem"];resultObj[elem]=data[k]}}return resultObj}else{if(data===null)return data;if("_data"in data)data=data._data;
else{delete data["_uid"];delete data["_elem"]}}return data}},getProfile:function(oldUID,forceRead){var ns=window[ensightenOptions.ns],sessionKey=_private.getSessionKey(),profile,defered=ns.when.defer(),args;if(!forceRead&&!oldUID&&sessionKey&&sessionKey!=="undefined"&&sessionKey.length>1){profile=localS.get(["_act_p"])._act_p;if(profile&&profile!="null"&&profile!="undefined"){try{profile=JSON.parse(profile)}catch(e){try{profile=JSON.parse(_private.isPlainObject(profile)?profile:atob(profile))}catch(e){return defered.reject("Invalid profile string")}}if(profile._actData)profile=
_private.isPlainObject(profile._actData)?profile._actData:atob(profile._actData);_private.cache[ns.data.uuid]=profile;if(profile){defered.resolve(profile);_private.profileSyncPromises[ns.data.uuid]=defered.promise}}else if(!forceRead){defered.reject("No profile found in local storage");return defered.promise}}if(oldUID){profile=localS.get(["_act_p"])._act_p;if(profile&&profile!="null"&&profile!="undefined")args={"oldUID":oldUID};profile=undefined}if(!forceRead&&_private.profileSyncPromises[ns.data.uuid])return _private.profileSyncPromises[ns.data.uuid];
_private.profileSyncPromises[ns.data.uuid]=defered.promise;_public.callService("getProfile",args,true).then(function(data){if(data&&data.length>1){data=JSON.parse(data);_private.setSessionKey((new Date).getTime());if(data._actUid&&data._actData){localS.set("_act_id",data._actUid);ns.data.uuid=data._actUid;localS.set("_act_p",data._actData);_private.cache[ns.data.uuid]=_private.isPlainObject(data._actData)?data._actData:JSON.parse(atob(data._actData));defered.resolve(_private.cache[ns.data.uuid])}else{localS.set("_act_p",
data);_private.cache[ns.data.uuid]=_private.isPlainObject(data)?data:JSON.parse(atob(data));defered.resolve(_private.cache[ns.data.uuid])}_private.onIdentityChange()}else{defered.reject("No profile found in HPPS");_private.setSessionKey((new Date).getTime())}},function(err){defered.reject(err)});return defered.promise},requestData:undefined};var _public={returnsPromise:true,hppsURL:function(){return window[ensightenOptions.ns].data.hppsConfig.hppsURL},registerOnChange:function(onChange){_private.onIDChangeCallbacks.push(onChange)},
set:function(key,vals,optionalUID){if(!optionalUID)optionalUID=window[ensightenOptions.ns].data.uuid;if(_private.isPlainObject(key)){var keys=[],vals=[],k;for(k in key){keys.push(k);if(_private.isPlainObject(key[k]))vals.push(key[k]);else vals.push({"_data":key[k]})}_private.requestData={op:"set",uid:""+optionalUID,elem:keys,val:vals}}else{if(_private.isArray(vals)){var i,l;for(i=0,l=vals.length;i<l;i++)if(!_private.isPlainObject(vals[i]))vals[k]={"_data":vals[i]}}else if(!_private.isPlainObject(vals))vals=
{"_data":vals};_private.requestData={op:"set",uid:""+optionalUID,elem:key,val:vals}}return _private.createPromise(_private.dispatchRequest)},get:function(key,optionalUID){if(!optionalUID)optionalUID=window[ensightenOptions.ns].data.uuid;_private.requestData={op:"get",uid:""+optionalUID,elem:key};return _private.createPromise(_private.dispatchRequest,_private.createTransformGetResultFunction(key))},callService:function(serviceOpName,data,includeUID){var sid=cookies.get("_act_id"),data={op:serviceOpName,
data:data};if(sid&&sid.length>0)data.manageSID=sid;if(includeUID)data.uid=window[ensightenOptions.ns].data.uuid;_private.requestData=data;return _private.createPromise(_private.dispatchRequest,function(message){return message})},remove:function(key,optionalUID){if(!optionalUID)optionalUID=window[ensightenOptions.ns].data.uuid;_private.requestData={op:"remove",uid:""+optionalUID,elem:key};return _private.createPromise(_private.dispatchRequest)},clear:function(optionalUID){if(!optionalUID)optionalUID=
window[ensightenOptions.ns].data.uuid;_private.requestData={op:"clear",uid:""+optionalUID};return _private.createPromise(_private.dispatchRequest)},all:function(optionalUID){if(!optionalUID)optionalUID=window[ensightenOptions.ns].data.uuid;_private.requestData={op:"all",uid:""+_private.uid};return _private.createPromise(_private.dispatchRequest,_private.transformViewResult)},getProfileAttribute:function(attribute){var uid=_public.setUID(),cachedProfile=_private.cache[uid],ns=window[ensightenOptions.ns],
defered=ns.when.defer();var getAttributes=function(){if(_private.isArray(attribute)){var i=0,results=[];for(;i<attribute.length;i++)cachedProfile[attribute[i]]?results.push(cachedProfile[attribute[i]]):results.push(null);defered.resolve(results)}else cachedProfile[attribute]?defered.resolve(cachedProfile[attribute]):defered.resolve(null)};if(cachedProfile)getAttributes();else _private.getProfile().then(function(profile){cachedProfile=_private.cache[ns.data.uuid]=profile;getAttributes()},function(err){defered.reject(err)});
return defered.promise},clearIdentity:function(){window[ensightenOptions.ns].data.uuid=undefined;if(!ns.data.hppsConfig.useLocalStorageSession)cookies.set("ensightenSK","",{expires:-1});else localS.set("_act_sk","");localS.set("_act_id","");localS.set("_act_p",null);_private.cache={};_private.profileSyncPromises={}},getFullProfile:function(){var ns=window[ensightenOptions.ns],uid=ns.data.uuid?ns.data.uuid:_public.setUID(),cachedProfile=_private.cache[uid],defered=ns.when.defer();if(cachedProfile)defered.resolve(cachedProfile);
else _private.getProfile().then(function(profile){_private.cache[uid]=profile;defered.resolve(profile)},function(err){defered.reject(err)});return defered.promise},setProfileAttribute:function(attribute,value){var ns=window[ensightenOptions.ns],defered=ns.when.defer();if(!ns.data.uuid){var uuid=localS.get("_act_id");if(!uuid||uuid.length<1){uuid=ns.data.uuidFunc();localS.set("_act_id",uuid);ns.data.uuid=uuid}}var attributes=[],values=[];if(_private.isPlainObject(attribute))for(var k in attribute){attributes.push(k);
values.push(attribute[k])}else if(_private.isArray(attribute)){attributes=attribute;values=value}else{attributes.push(attribute);values.push(value)}if(!_private.cache[ns.data.uuid])_private.cache[ns.data.uuid]={};for(var i=0;i<attributes.length;i++)_private.cache[ns.data.uuid][attributes[i]]=values[i];_public.callService("setAttribute",{"k":attributes,"v":values},true).then(function(data){var identityWasCleared=!(ns.data.uuid in _private.cache);if(identityWasCleared){defered.reject("no identity found");
return}var profile={},localP,k;if(data&&data.length>1){data=JSON.parse(data);if(data._actUid&&data._actData){localS.set("_act_id",data._actUid);ns.data.uuid=data._actUid;if(ns.data.hppsConfig.obfuscateProfile&&_private.isPlainObject(data._actData))localS.set("_act_p",ns.encodeB64(data._actData));else localS.set("_act_p",data._actData);_private.cache[ns.data.uuid]=_private.isPlainObject(data._actData)?data._actData:JSON.parse(atob(data._actData))}else{for(var i=0;i<attributes.length;i++)profile[attributes[i]]=
values[i];ns.data.hppsConfig.obfuscateProfile?localS.set("_act_p",ns.encodeB64(profile)):localS.set("_act_p",profile);_private.cache[ns.data.uuid]=profile}_private.setSessionKey((new Date).getTime());_private.onIdentityChange()}else{localP=localS.get(["_act_p"])._act_p;if(localP&&localP!="null"&&localP!="undefined")try{profile=JSON.parse(localP)}catch(e){profile=JSON.parse(_private.isPlainObject(localP)?localP:atob(localP))}for(var i=0;i<attributes.length;i++)profile[attributes[i]]=values[i];ns.data.hppsConfig.obfuscateProfile?
localS.set("_act_p",ns.encodeB64(profile)):localS.set("_act_p",profile)}defered.resolve()},function(err){defered.reject(err)});return defered.promise},setUID:function(uuid,initiateMerge){var oldUID,forceRead=false,ns=window[ensightenOptions.ns];if(!uuid&&!ns.data.uuid){uuid=localS.get("_act_id");if(!uuid||uuid.length<1){uuid=ns.data.uuidFunc();localS.set("_act_id",uuid);ns.data.uuid=uuid;return uuid}}else if(uuid){oldUID=localS.get("_act_id");if(oldUID!==uuid)localS.set("_act_id",uuid);else{ns.data.uuid=
uuid;_private.getProfile();return}}else{uuid=localS.get("_act_id");if(!uuid||uuid.length<1){uuid=ns.data.uuid;localS.set("_act_id",uuid)}}ns.data.uuid=uuid;if(!initiateMerge&&oldUID)forceRead=true;if(!initiateMerge)oldUID=undefined;_private.getProfile(oldUID,forceRead);return uuid},getUnstructuredData:function(IDs){return _public.callService("getData",{"IDs":IDs},false)}};if(window[ensightenOptions.ns].data.hppsConfig.profileSync)_public.setUID();window[ensightenOptions.ns].data.hpps=_public;return _public}());
Bootstrapper.activateObj={profileData:{},_getUUID:function(){var cookies=document.cookie,UUID=cookies.indexOf("uuid\x3d")>-1?cookies.substr(cookies.indexOf("uuid\x3d")).split(";")[0].split("\x3d")[1]:"";return UUID},_setUUID:function(){if(Bootstrapper.data.getEngine("store").utils.testStorage()){var syncUUID=Bootstrapper.activateObj._getUUID();if(syncUUID)Bootstrapper.data.hpps.setUID(syncUUID)}}}}},1730218,261077);
Bootstrapper.bindDependencyDOMLoaded(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function runDeployment(){$("a").each(function(){var $this=$(this),linkURL=$this?$this.attr("href"):undefined;if(linkURL){if(linkURL.indexOf(".doubleclick.net/")>-1&&linkURL.indexOf("adurl\x3d")>0){var adurlString=linkURL.match(/adurl=([^&]+)/i);if(adurlString!==undefined&&adurlString.length>1)linkURL=decodeURIComponent(adurlString[1])}if(linkURL.indexOf("int_campaign\x3d")>
0){try{var mymatch=new RegExp("/flight-search/book-a-flight/results");var isFSRPage=mymatch.test(document.location.href);if(isFSRPage&&$this.parents().hasClass("header-dcm")&&!$this.is(":visible")){$(this).remove();return}}catch(e){}if($this[0].offsetParent!==null&&!Bootstrapper.dataObject.promoTracking.impressionList[linkURL]){Bootstrapper.dataObject.promoTracking.impressionList[linkURL]=!0;Bootstrapper.dataObject.promoTracking.trackLinkUA(linkURL,"impression")}if(!Bootstrapper.dataObject.promoTracking.clickListenerList[linkURL]){Bootstrapper.dataObject.promoTracking.clickListenerList[linkURL]=
!0;$this.on("click",function(){Bootstrapper.dataObject.promoTracking.trackLinkUA(linkURL,"click")})}}}});$(".adplacement.indivnavtile").each(function(){var $this=$(this),clickFunction=$this[0].onclick.toString(),quoteUsed=clickFunction.indexOf("'")>0?"'":clickFunction.indexOf('"')>0?'"':"",pageAdLink=quoteUsed?clickFunction.split(quoteUsed)[1]:"";if(pageAdLink!==undefined&&pageAdLink.indexOf("?")>-1&&pageAdLink.indexOf("int_campaign\x3d")>0){if($this[0].offsetParent!==null&&!Bootstrapper.dataObject.promoTracking.impressionList[pageAdLink]){Bootstrapper.dataObject.promoTracking.impressionList[pageAdLink]=
!0;Bootstrapper.dataObject.promoTracking.trackLinkUA(pageAdLink,"impression")}if(!Bootstrapper.dataObject.promoTracking.clickListenerList[linkURL]){Bootstrapper.dataObject.promoTracking.clickListenerList[linkURL]=!0;$this.on("click",function(){Bootstrapper.dataObject.promoTracking.trackLinkUA(pageAdLink,"click")})}}});$("object").each(function(){var $this=$(this),objParams=$this[0].childNodes;$.each(objParams,function(nam,val){if(nam==="FlashVars"){var flashVars=val.split("\x26"),tempObj={};$.each(flashVars,
function(nam2,val2){var flashVar=val2.split("\x3d");tempObj[flashVar[0]]=decodeURIComponent(decodeURIComponent(flashVar[1]))});var flashLink=tempObj.strBannerHrefAttributes;if(flashLink!==undefined&&flashLink.indexOf("?")>-1&&flashLink.indexOf("int_campaign\x3d")>0){flashLink=(flashLink.indexOf("http")!==0?document.location.protocol+"//"+document.location.hostname:"")+flashLink;if($this[0].offsetParent!==null&&!Bootstrapper.dataObject.promoTracking.impressionList[flashLink]){Bootstrapper.dataObject.promoTracking.impressionList[flashLink]=
!0;Bootstrapper.dataObject.promoTracking.trackLinkUA(flashLink,"impression")}if(!Bootstrapper.dataObject.promoTracking.clickListenerList[flashLink]){Bootstrapper.dataObject.promoTracking.clickListenerList[flashLink]=!0;$this.on("click",function(){Bootstrapper.dataObject.promoTracking.trackLinkUA(flashLink,"click")})}}return false}})})}ga("require","ec");Bootstrapper.dataObject.promoTracking=Bootstrapper.dataObject.promoTracking||{};Bootstrapper.dataObject.promoTracking.impressionList={};Bootstrapper.dataObject.promoTracking.clickListenerList=
{};var loc=document.location,pth=loc.pathname.toLowerCase(),srchRsltRevRegX=new RegExp(/\/ual\/[^\/]+\/[^\/]+\/flight-search\/book-a-flight\/results\/rev/),srchRsltRwdRegX=new RegExp(/\/ual\/[^\/]+\/[^\/]+\/flight-search\/book-a-flight\/results\/awd/);if(pth.match(srchRsltRevRegX)||pth.match(srchRsltRwdRegX))if(Bootstrapper.dataObject&&Bootstrapper.dataObject.ajaxDatalayerLoaded)runDeployment();else $(window).on("ajaxDatalayerLoaded",function(){runDeployment()});else if(Bootstrapper.dataObject&&Bootstrapper.dataObject.dataLayerLoaded)runDeployment();
else $(window).on("dataLayerLoaded",function(){runDeployment()});var defaultTileTimer,defaultTileChecker=function(){var isLoaded=false;$("section.tile").each(function(){var $this=$(this),$tileDisplay=$this.children("div.tile-content-expanded"),ariaHidden=$tileDisplay.attr("aria-hidden");if($this.hasClass("tile-expanded")&&ariaHidden&&ariaHidden.toLowerCase()==="false"&&$tileDisplay.css("display")==="block"){isLoaded=true;clearTimeout(defaultTileTimer);runDeployment();return false}});if(!isLoaded)defaultTileTimer=
setTimeout(function(){defaultTileChecker()},100)};defaultTileChecker();$(document).ajaxComplete(function(){runDeployment()});var tileTimer,tileExpandChecker=function($this){var $tileDisplay=$this.children("div.tile-content-expanded"),ariaHidden=$tileDisplay.attr("aria-hidden");if(ariaHidden&&ariaHidden.toLowerCase()==="false"&&$tileDisplay.css("display")==="block"){runDeployment();clearTimeout(tileTimer)}else tileTimer=setTimeout(function(){tileExpandChecker($this)},100)};$("section.tile").on("click",
function(){tileExpandChecker($(this))});var toggleTimer,headerDropDownChecker=function($this){var $dropdown=$($this.data("toggler-target"));if($dropdown.hasClass("toggler-visible"))runDeployment();else toggleTimer=setTimeout(function(){headerDropDownChecker($this)},100)};$("div.container-header a[data-toggle*\x3d'toggler']").on("mouseover",function(){headerDropDownChecker($(this));$(this).on("mouseout",function(){clearTimeout(toggleTimer)})});$("div.container-footer-quicklinks a[data-toggle*\x3d'toggler']").on("click",
function(){runDeployment()})},1728608,[1933905,1105254],288214,[288194,350175]);
Bootstrapper.bindDependencyDOMLoaded(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function runDeployment(){Bootstrapper.dataObject.pulse={};Bootstrapper.dataObject.pulse.prt="";Bootstrapper.dataObject.pulse.ensRefType=function ensRefType(){var ref=document.referrer.toLowerCase(),host=location.hostname,orig=location.origin,path=location.pathname,srch=location.search,hash=location.hash;if(ref.match(/united\.com/)&&ref.indexOf("united.com")<15){Bootstrapper.dataObject.pulse.prt=
Bootstrapper.localS.utilities.__getData("prt");return}var isDisplay=false,srchArr=srch.replace("?","").split("\x26"),i;for(i=0;i<srchArr.length;i++){var paramArr=srchArr[i].split("\x3d"),paramKey=paramArr[0],paramVal=paramArr.length===2?paramArr[1]:"";if(paramKey.toLowerCase()==="dclid"&&paramVal.indexOf("-")>-1&&paramVal.match(/-/g).length===5){isDisplay=true;break}}if(isDisplay)Bootstrapper.dataObject.pulse.prt="1";else if(srch.match(/utm_medium=cpc/))Bootstrapper.dataObject.pulse.prt="2";else if(srch.match(/utm_medium=email/))Bootstrapper.dataObject.pulse.prt=
"3";else if(ref.match(/onsite - we still need to work this out/))Bootstrapper.dataObject.pulse.prt="4";else if(Bootstrapper.dataObject.page.metaSearchReferrer||ref.match(/kayak\.com|tripadvisor\.com|fly\.com|hipmunk\.com|farecompare\.com|skyscanner\.net|cheapflights\.com|kayak\.yapta\.com|skyscanner\.com|bookingbuddy\.com|seatguru\.com/i))Bootstrapper.dataObject.pulse.prt="6";else if(ref.match(/tripadvisor|facebook|twitter|naver|youtube|reddit|blogger|linkedin|oshiete\.goo|plus\.google|pinterest/i))Bootstrapper.dataObject.pulse.prt=
"7";else if(ref==="")Bootstrapper.dataObject.pulse.prt="8";else if(ref.match(/google\.com|yahoo\.com|bing\.com|baidu\.com|aol\.com|ask\.com|naver\.com/))Bootstrapper.dataObject.pulse.prt="5";else Bootstrapper.dataObject.pulse.prt="99";if(Bootstrapper.dataObject.pulse.prt!=="")Bootstrapper.localS.utilities.__setData("prt",Bootstrapper.dataObject.pulse.prt)};Bootstrapper.dataObject.pulse.ensRefType();if(Bootstrapper.ensightenOptions.nexus.match("nexus-test"))if(document.referrer.indexOf("united.com")>
15||document.referrer.indexOf("united.com")==-1)console.log("ref type (rt): "+Bootstrapper.dataObject.pulse.prt)}if(Bootstrapper.dataObject&&Bootstrapper.dataObject.dataLayerLoaded)runDeployment();else $(window).on("ajaxDatalayerLoaded",function(){runDeployment()})},1434270,[2011281],293623,[248942]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var ref=document.referrer,loc=document.location,pth=loc.pathname.toLowerCase(),qry=loc.search,srchRsltRevRegX=new RegExp(/\/ual\/[^\/]+\/[^\/]+\/flight-search\/book-a-flight\/results\/rev/),srchRsltRwdRegX=new RegExp(/\/ual\/[^\/]+\/[^\/]+\/flight-search\/book-a-flight\/results\/awd/),confirmRevRegX=new RegExp(/\/ual\/[^\/]+\/[^\/]+\/flight-search\/book-a-flight\/confirmation\/rev/),
confirmRwdRegX=new RegExp(/\/ual\/[^\/]+\/[^\/]+\/flight-search\/book-a-flight\/confirmation\/awd/),ePlusSnglFltRegX=new RegExp(/\/web\/[^\/]+\/apps\/reservation\/flight\/seat\/confirm\.aspx/),ePlusSubscrRegX=new RegExp(/\/web\/[^\/]+\/apps\/products\/subscriptions\/purchase\/confirm\.aspx/),checkinStartRegX=new RegExp(/\/travel\/checkin\/start\.aspx/),checkinRegX=new RegExp(/\/travel\/checkin\/displayitinerary\.aspx/),manageResRegX=new RegExp(/\/web\/[^\/]+\/apps\/reservation\/flight\/view\/default\.aspx/);
Bootstrapper._lc={"i":0,"p":0};function pulsePixel(){if(pth.match(checkinStartRegX))$("#_ctl0_Main_btnContinue_Button1").on("click",function(){Bootstrapper.localS.utilities.__setData("checkin_PNR",$("#nbr_id").val().toUpperCase())});if(pth.match(srchRsltRevRegX)||pth.match(srchRsltRwdRegX)||pth.match(confirmRevRegX)||pth.match(confirmRwdRegX)||pth.match(ePlusSnglFltRegX)||pth.match(ePlusSubscrRegX)||pth.match(checkinRegX)||pth.match(manageResRegX))if(Bootstrapper.dataObject.page&&(pth.match(srchRsltRevRegX)||
pth.match(srchRsltRwdRegX)||pth.match(confirmRevRegX)||pth.match(confirmRwdRegX)||pth.match(ePlusSnglFltRegX)||pth.match(ePlusSubscrRegX)||pth.match(manageResRegX))&&(Bootstrapper.dataObject.page.flightSearch||Bootstrapper.dataObject.page.flightSegments||Bootstrapper.dataObject.page.ancillary||Bootstrapper.dataObject.page.transaction)||Bootstrapper.dataObject.global&&pth.match(checkinRegX)){if(Bootstrapper._lc.p>200)return;var language_code=Bootstrapper.dataObject.getData("langCode","locale","global").replace(/-/g,
""),pos=Bootstrapper.dataObject.getData("POS","locale","global").replace(/-/g,""),currency=Bootstrapper.dataObject.getData("currency","transaction","page").replace(/-/g,""),product_code=Bootstrapper.dataObject.getData("PRODUCT_CODE","ancillary","page"),departure_destination=Bootstrapper.dataObject.getData("dest1","flightSearch","page"),departure_origin=Bootstrapper.dataObject.getData("orig1","flightSearch","page"),return_destination=Bootstrapper.dataObject.getData("dest2","flightSearch","page"),return_origin=
Bootstrapper.dataObject.getData("orig2","flightSearch","page"),departure_date=Bootstrapper.dataObject.getData("travelDate1ISO","flightSearch","page").replace(/-/g,""),return_date=Bootstrapper.dataObject.getData("travelDate2ISO","flightSearch","page").replace(/-/g,""),classRet=(Bootstrapper.dataObject.page.flightSegments&&Bootstrapper.dataObject.page.flightSegments.length>1&&Bootstrapper.dataObject.page.flightSegments[1].legs.length>0&&Bootstrapper.dataObject.page.flightSegments[1].legs[0].serviceClass?
Bootstrapper.dataObject.page.flightSegments[1].legs[0].serviceClass:"--").replace(/-/g,""),classDep=(Bootstrapper.dataObject.page.flightSegments&&Bootstrapper.dataObject.page.flightSegments.length>0&&Bootstrapper.dataObject.page.flightSegments[0].legs.length>0&&Bootstrapper.dataObject.page.flightSegments[0].legs[0].serviceClass?Bootstrapper.dataObject.page.flightSegments[0].legs[0].serviceClass:"--").replace(/-/g,""),advance_purchase="",total_legs=Bootstrapper.dataObject.page.flightSegments&&Bootstrapper.dataObject.page.flightSegments.length>
0?function(){var legCnt=0;$.each(Bootstrapper.dataObject.page.flightSegments,function(ndx,val){if(val.legs)$.each(val.legs,function(ndx2,val2){legCnt++})});return legCnt}():"",quantity=encodeURIComponent(Bootstrapper.dataObject.getData("NumItem","ancillary","page")),revenue=encodeURIComponent(Bootstrapper.dataObject.getData("OrderTotal","ancillary","page")),pnr=Bootstrapper.base64Encode!==undefined?Bootstrapper.base64Encode(Bootstrapper.dataObject.getData("PNR","transaction","page").replace(/-/g,
"")):"",order_id=Bootstrapper.base64Encode!==undefined?encodeURIComponent(Bootstrapper.base64Encode(Bootstrapper.dataObject.getData("OrderID","ancillary","page")))||"":"",currDate=new Date,product_type=Bootstrapper.dataObject.getData("type","flightSearch","page"),trip_type=Bootstrapper.dataObject.getData("tripType","flightSearch","page"),trip_type_code=trip_type.toLowerCase().indexOf("one way")>=0?"OW":trip_type.toLowerCase().indexOf("round trip")>=0?"RT":trip_type.toLowerCase().indexOf("multiple")>=
0?"MD":"",CustomerID=encodeURIComponent(Bootstrapper.base64Encode(Bootstrapper.dataObject.getData("CustomerId","visitor","global"))),mpAccStatus=encodeURIComponent(Bootstrapper.dataObject.getData("MPAccStatus","visitor","global")),customerId=encodeURIComponent(Bootstrapper.base64Encode(Bootstrapper.dataObject.getData("CustomerId","visitor","global"))),dclidValue="";if(qry.indexOf("dclid")>-1){var qryArr=qry.split("\x26");for(var i=0;i<qryArr.length;i++)if(qryArr[i].indexOf("dclid")>-1){var keyVal=
qryArr[i].split("\x3d");if(keyVal.length===2){var key=keyVal[0],val=keyVal[1];if(key.indexOf("dclid")>-1&&val.indexOf("-")>-1){dclidValue=val;break}}}}Bootstrapper.dataObject.pulse.imgUrl="";Bootstrapper.dataObject.pulse.GAAction="";if(pth.match(srchRsltRevRegX)||pth.match(srchRsltRwdRegX)){product_type=pth.match(srchRsltRevRegX)?"Revenue":"Award";Bootstrapper.dataObject.pulse.imgUrl="//activate.united.com/no-content?";Bootstrapper.dataObject.pulse.imgUrl+="ch\x3d4\x26at\x3d2\x26prt\x3d"+Bootstrapper.dataObject.pulse.prt;
Bootstrapper.dataObject.pulse.imgUrl+="\x26pu1\x3d"+language_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu2\x3d"+pos;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu3\x3d\x26pu4\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu5\x3d"+departure_destination;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu6\x3d"+departure_origin;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu7\x3d"+return_destination;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu8\x3d"+return_origin;Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu9\x3d"+departure_date;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu10\x3d"+return_date;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu11\x3d\x26pu12\x3d\x26pu13\x3d\x26pu14\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu15\x3d"+customerId;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu16\x3d\x26pu17\x3d\x26pu18\x3d\x26pu19\x3d\x26pu20\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu21\x3d"+product_type;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu22\x3dSearch";Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu23\x3d"+trip_type_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu24\x3dunite280\x26pu25\x3dunite229";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu26\x3d"+CustomerID;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu27\x3d"+mpAccStatus;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu28\x3dD2.0";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu29\x3d"+dclidValue;Bootstrapper.dataObject.pulse.imgUrl+="\x26ord\x3d"}else if(pth.match(confirmRevRegX)||pth.match(confirmRwdRegX)){departure_destination=Bootstrapper.dataObject.getData("dest1",
"transaction","page");departure_origin=Bootstrapper.dataObject.getData("orig1","transaction","page");return_destination=Bootstrapper.dataObject.getData("dest2","transaction","page");return_origin=Bootstrapper.dataObject.getData("orig2","transaction","page");departure_date=Bootstrapper.dataObject.getData("travelDate1ISO","transaction","page");return_date=Bootstrapper.dataObject.getData("travelDate2ISO","transaction","page");advance_purchase=departure_date?Math.floor(((new Date(departure_date)).getTime()-
currDate.getTime())/(1E3*60*60*24)):"";quantity=encodeURIComponent(Bootstrapper.dataObject.getData("qty","transaction","page"));revenue=encodeURIComponent(Bootstrapper.dataObject.getData("cost","transaction","page"));product_type=pth.match(confirmRevRegX)?"Revenue":"Award";trip_type=Bootstrapper.dataObject.getData("tripType","transaction","page");trip_type_code=trip_type.toLowerCase().indexOf("one way")>=0?"OW":trip_type.toLowerCase().indexOf("round trip")>=0?"RT":trip_type.toLowerCase().indexOf("multiple")>=
0?"MD":"";Bootstrapper.dataObject.pulse.imgUrl="//activate.united.com/no-content?";Bootstrapper.dataObject.pulse.imgUrl+="ch\x3d4\x26at\x3d1\x26prt\x3d"+Bootstrapper.dataObject.pulse.prt;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu1\x3d"+language_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu2\x3d"+pos;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu3\x3d"+currency;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu4\x3d"+product_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu5\x3d"+departure_destination;
Bootstrapper.dataObject.pulse.imgUrl+="\x26pu6\x3d"+departure_origin;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu7\x3d"+return_destination;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu8\x3d"+return_origin;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu9\x3d"+departure_date;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu10\x3d"+return_date;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu11\x3d"+classRet;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu12\x3d"+classDep;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu13\x3d"+
advance_purchase;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu14\x3d"+total_legs;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu15\x3d"+customerId;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu16\x3d"+quantity;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu17\x3d"+revenue;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu18\x3d"+pnr;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu19\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu20\x3d"+(Bootstrapper._dateFormat(currDate,"MM/dd/yyyy")||"");Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu21\x3d"+product_type;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu22\x3dConversion";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu23\x3d"+trip_type_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu24\x3dticke498\x26pu25\x3dunite820";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu26\x3d"+CustomerID;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu27\x3d"+mpAccStatus;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu28\x3dD2.0";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu29\x3d"+dclidValue;Bootstrapper.dataObject.pulse.imgUrl+=
"\x26ord\x3d"+order_id;if(pth.match(confirmRwdRegX))Bootstrapper.dataObject.pulse.GAAction=product_type+" | Conversion | "}else if(pth.match(ePlusSnglFltRegX)){Bootstrapper.dataObject.pulse.imgUrl="//activate.united.com/no-content?";Bootstrapper.dataObject.pulse.imgUrl+="ch\x3d4\x26at\x3d1\x26prt\x3d"+Bootstrapper.dataObject.pulse.prt;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu1\x3d"+language_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu2\x3d"+pos;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu3\x3d";
Bootstrapper.dataObject.pulse.imgUrl+="\x26pu4\x3d"+product_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu5\x3d\x26pu6\x3d\x26pu7\x3d\x26pu8\x3d\x26pu9\x3d\x26pu10\x3d\x26pu11\x3d\x26pu12\x3d\x26pu13\x3d\x26pu14\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu15\x3d"+customerId;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu16\x3d"+quantity;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu17\x3d"+revenue;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu18\x3d"+pnr;Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu19\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu20\x3d"+(Bootstrapper._dateFormat(currDate,"MM/dd/yyyy")||"");Bootstrapper.dataObject.pulse.imgUrl+="\x26pu21\x3d"+encodeURIComponent("E Plus");Bootstrapper.dataObject.pulse.imgUrl+="\x26pu22\x3dConversion\x26pu23\x3d\x26pu24\x3decono0\x26pu25\x3dsingl0";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu26\x3d"+CustomerID;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu27\x3d"+mpAccStatus;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu28\x3dD2.0";
Bootstrapper.dataObject.pulse.imgUrl+="\x26pu29\x3d"+dclidValue;Bootstrapper.dataObject.pulse.imgUrl+="\x26ord\x3d"+order_id}else if(pth.match(ePlusSubscrRegX)){Bootstrapper.dataObject.pulse.imgUrl="//activate.united.com/no-content?";Bootstrapper.dataObject.pulse.imgUrl+="ch\x3d4\x26at\x3d1\x26prt\x3d"+Bootstrapper.dataObject.pulse.prt;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu1\x3d"+language_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu2\x3d"+pos;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu3\x3d";
Bootstrapper.dataObject.pulse.imgUrl+="\x26pu4\x3d"+product_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu5\x3d\x26pu6\x3d\x26pu7\x3d\x26pu8\x3d\x26pu9\x3d\x26pu10\x3d\x26pu11\x3d\x26pu12\x3d\x26pu13\x3d\x26pu14\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu15\x3d"+customerId;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu16\x3d"+quantity;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu17\x3d"+revenue;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu18\x3d\x26pu19\x3d";Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu20\x3d"+(Bootstrapper._dateFormat(currDate,"MM/dd/yyyy")||"");Bootstrapper.dataObject.pulse.imgUrl+="\x26pu21\x3dSubscription\x26pu22\x3dConversion\x26pu23\x3d\x26pu24\x3decono0\x26pu25\x3decono0";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu26\x3d"+CustomerID;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu27\x3d"+mpAccStatus;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu28\x3dD2.0";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu29\x3d"+dclidValue;Bootstrapper.dataObject.pulse.imgUrl+="\x26ord\x3d"+
order_id;Bootstrapper.dataObject.pulse.GAAction="Subscription | Conversion | "}else if(pth.match(checkinRegX)){var storedPNR=Bootstrapper.localS.utilities.__getData("checkin_PNR"),scrapedDeptDate=Bootstrapper._reformatDate($("#_ctl0_Main_originalSegmentNew_dlSegments__ctl0_if2_lblSegmentDetails \x3e b").text().split("|")[0].trim()),scrapedDetails=$("#_ctl0_Main_originalSegmentNew_dlSegments__ctl0_If9_lblDetails").html();if(scrapedDetails.indexOf("\x3cbr\x3e")>-1){scrapedDetails=scrapedDetails.split("\x3cbr\x3e")[1];
if(scrapedDetails.indexOf("\x3csup\x3e")>-1)scrapedDetails=scrapedDetails.split("\x3csup\x3e")[0]}else scrapedDetails="";Bootstrapper.dataObject.pulse.imgUrl="//activate.united.com/no-content?";Bootstrapper.dataObject.pulse.imgUrl+="ch\x3d4\x26at\x3d1\x26prt\x3d"+Bootstrapper.dataObject.pulse.prt;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu1\x3d"+language_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu2\x3d"+pos;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu3\x3d\x26pu4\x3d";Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu5\x3d"+$("#_ctl0_Main_originalSegmentNew_dlSegments__ctl0_If4_lblDestinationCode").text()||"";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu6\x3d"+$("#_ctl0_Main_originalSegmentNew_dlSegments__ctl0_If5_lblOriginCode").text()||"";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu7\x3d\x26pu8\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu9\x3d"+(scrapedDeptDate?Bootstrapper._dateFormat(scrapedDeptDate,"MM/dd/yyyy"):"");Bootstrapper.dataObject.pulse.imgUrl+="\x26pu10\x3d";Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu11\x3d"+scrapedDetails;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu12\x3d\x26pu13\x3d\x26pu14\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu15\x3d"+customerId;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu16\x3d\x26pu17\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu18\x3d"+storedPNR;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu19\x3d\x26pu20\x3d\x26pu21\x3dViewTravel\x26pu22\x3dCheckin\x26pu23\x3d\x26pu24\x3d\x26pu25\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu26\x3d"+CustomerID;
Bootstrapper.dataObject.pulse.imgUrl+="\x26pu27\x3d"+mpAccStatus;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu28\x3dD2.0";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu29\x3d"+dclidValue;Bootstrapper.dataObject.pulse.imgUrl+="\x26ord\x3d";Bootstrapper.localS.utilities.__clearData("checkin_PNR")}else if(pth.match(manageResRegX)){departure_destination=Bootstrapper.dataObject.page.flightSegments[0].destAirport;departure_origin=Bootstrapper.dataObject.page.flightSegments[0].origAirport;return_destination=
Bootstrapper.dataObject.page.flightSegments.length>1&&Bootstrapper.dataObject.page.flightSegments[1].destAirport?Bootstrapper.dataObject.page.flightSegments[1].destAirport:"";return_origin=Bootstrapper.dataObject.page.flightSegments.length>1&&Bootstrapper.dataObject.page.flightSegments[1].origAirport?Bootstrapper.dataObject.page.flightSegments[1].origAirport:"";departure_date=Bootstrapper.dataObject.page.flightSegments[0].flightDate;return_date=Bootstrapper.dataObject.page.flightSegments.length>1&&
Bootstrapper.dataObject.page.flightSegments[1].flightDate?Bootstrapper.dataObject.page.flightSegments[1].flightDate:"";Bootstrapper.dataObject.pulse.imgUrl="//activate.united.com/no-content?";Bootstrapper.dataObject.pulse.imgUrl+="ch\x3d4\x26at\x3d1\x26prt\x3d"+Bootstrapper.dataObject.pulse.prt;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu1\x3d"+language_code;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu2\x3d"+pos;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu3\x3d\x26pu4\x3d";Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu5\x3d"+departure_destination;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu6\x3d"+departure_origin;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu7\x3d"+return_destination;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu8\x3d"+return_origin;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu9\x3d"+departure_date;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu10\x3d"+return_date;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu11\x3d"+classDep;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu12\x3d"+classRet;Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu13\x3d\x26pu14\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu15\x3d"+customerId;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu16\x3d\x26pu17\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu18\x3d"+$("#ctl00_ContentInfo_ViewRes_ConfirmItineraryNumbers1_spPNR").text()||"";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu19\x3d\x26pu20\x3d\x26pu21\x3dViewRes\x26pu22\x3dManageRes\x26pu23\x3d\x26pu24\x3d\x26pu25\x3d";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu26\x3d"+CustomerID;Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pu27\x3d"+mpAccStatus;Bootstrapper.dataObject.pulse.imgUrl+="\x26pu28\x3dD2.0";Bootstrapper.dataObject.pulse.imgUrl+="\x26pu29\x3d"+dclidValue;Bootstrapper.dataObject.pulse.imgUrl+="\x26ord\x3d"}if(Bootstrapper.dataObject.pulse.imgUrl){var pulseDate=new Date,pset=pulseDate.getTime(),pHour=pulseDate.getHours(),pMin=pulseDate.getMinutes(),pSec=pulseDate.getSeconds(),pTime=pHour+":"+pMin+":"+pSec,uuidCookie=Bootstrapper.Cookies.get("uuid"),uuidVal=uuidCookie?uuidCookie:"--";Bootstrapper.dataObject.pulse.imgUrl+=
"\x26pset\x3d"+pset;Bootstrapper.imageRequest(Bootstrapper.dataObject.pulse.imgUrl);if(Bootstrapper.dataObject.pulse.GAAction){Bootstrapper.dataObject.pulse.GAAction+=pset+" | "+uuidVal;window.ga("send","event","Pulse Validation",Bootstrapper.dataObject.pulse.GAAction,pTime,0,{nonInteraction:true})}}}else{Bootstrapper._lc.p+=1;setTimeout(pulsePixel,50)}}function inboundPixel(){if(Bootstrapper.dataObject&&Bootstrapper.dataObject.pulse){var ref=document.referrer,loc=document.location,pth=loc.pathname.toLowerCase(),
qry=loc.search,CustomerID=encodeURIComponent(Bootstrapper.base64Encode(Bootstrapper.dataObject.getData("CustomerId","visitor","global"))),mpAccStatus=encodeURIComponent(Bootstrapper.dataObject.getData("MPAccStatus","visitor","global")),customerId=encodeURIComponent(Bootstrapper.base64Encode(Bootstrapper.dataObject.getData("CustomerId","visitor","global"))),dclidValue="";if(Bootstrapper._lc.i>200)return;if(qry.indexOf("dclid")>-1){var qryArr=qry.split("\x26");for(var i=0;i<qryArr.length;i++)if(qryArr[i].indexOf("dclid")>
-1){var keyVal=qryArr[i].split("\x3d");if(keyVal.length===2){var key=keyVal[0],val=keyVal[1];if(key.indexOf("dclid")>-1&&val.indexOf("-")>-1){dclidValue=val;break}}}}Bootstrapper.dataObject.pulse.landingUrl="";if(!ref.split("?")[0].match("united.com")){var prt=Bootstrapper.dataObject.pulse.prt?"\x26prt\x3d"+Bootstrapper.dataObject.pulse.prt:"",params=qry.replace("?","").split("\x26"),paramString=params.length>0?"\x26"+params.join("\x26"):"",pset=(new Date).getTime();Bootstrapper.dataObject.pulse.landingUrl=
"//activate.united.com/no-content?ch\x3d4\x26at\x3d2"+prt+paramString;Bootstrapper.dataObject.pulse.landingUrl+="\x26pu15\x3d"+customerId;Bootstrapper.dataObject.pulse.landingUrl+="\x26pu21\x3dLanding\x26pu22\x3dLanding";Bootstrapper.dataObject.pulse.landingUrl+="\x26pu26\x3d"+CustomerID;Bootstrapper.dataObject.pulse.landingUrl+="\x26pu27\x3d"+mpAccStatus;Bootstrapper.dataObject.pulse.landingUrl+="\x26pu28\x3dD2.0";Bootstrapper.dataObject.pulse.landingUrl+="\x26pu29\x3d"+dclidValue;Bootstrapper.dataObject.pulse.landingUrl+=
"\x26pset\x3d"+pset;Bootstrapper.imageRequest(Bootstrapper.dataObject.pulse.landingUrl)}pulsePixel()}else{Bootstrapper._lc.i+=1;setTimeout(inboundPixel,50)}}function runDeployment(){inboundPixel()}if(pth.match(srchRsltRevRegX)||pth.match(srchRsltRwdRegX))if(Bootstrapper.dataObject&&Bootstrapper.dataObject.ajaxDatalayerLoaded&&Bootstrapper.dataObject.ajaxDatalayerLoaded===1)runDeployment();else $(window).on("ajaxDatalayerLoaded",function(){runDeployment()});else if(Bootstrapper.dataObject&&Bootstrapper.dataObject.dataLayerLoaded)runDeployment();
else $(window).on("dataLayerLoaded",function(){runDeployment()})},1429798,[2011281,1434270],297247,[248942,293623]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.dataObject.promoTracking={};Bootstrapper.dataObject.promoTracking.getParamsFromURL=function(linkURL){var dataObj={};if(linkURL&&typeof linkURL==="string"){var urlHash=linkURL.indexOf("#")>-1?linkURL.split("#")[1]:"",urlQuery=linkURL.indexOf("?")>-1?linkURL.substring(linkURL.indexOf("?")+1,urlHash?linkURL.indexOf("#"):linkURL.length):"",keyVals=urlQuery.split("\x26");
if(keyVals.length>0){for(var n=0;keyVals.length>n;n++){var params=keyVals[n];if(params.length>0&&params.indexOf("\x3d")>0){var param=params.split("\x3d");dataObj[param[0]]=param[1]}}if(!dataObj.mode)dataObj.mode="d"}}return dataObj};Bootstrapper.dataObject.promoTracking.setCustomVars=function(dataObj,type){var campParamsArray=["mode","int_source","int_medium","int_campaign","alm","int_content","partner_category","partner_name","asset_type","asset_position","promo_code","targeting","launch_date"],
concatVal="",k=0;for(var j=0;campParamsArray.length>j;j++)if(dataObj[campParamsArray[j]]!==undefined&&dataObj[campParamsArray[j]]!=="")concatVal+=dataObj[campParamsArray[j]]+"|";else{concatVal+="--|";k++}if(k<campParamsArray.length)concatVal=concatVal.slice(0,concatVal.length-1);else concatVal="";return concatVal};Bootstrapper.dataObject.promoTracking.trackLinkUA=function(targetURL,action){var linkData=Bootstrapper.dataObject.promoTracking.getParamsFromURL(targetURL),concatVal=Bootstrapper.dataObject.promoTracking.setCustomVars(linkData,
3);if(concatVal!==""&&(concatVal.indexOf("d|")===0||concatVal.indexOf("s|")===0)){ga("ec:addPromo",{"id":concatVal,"name":linkData.int_campaign,"creative":linkData.int_content||"","position":linkData.asset_position||""});if(action)if(action==="click"){ga("ec:setAction","promo_click");ga("send","event","Internal Campaigns","Clicks",this.href,{"nonInteraction":1})}else if(action==="impression")ga("send","event","Internal Campaigns","Impressions",{"nonInteraction":1})}}},1105254,[2011281],350175,[248942]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function runDeployment(){var Cust_ID=Bootstrapper.dataObject.getData("CustomerId","visitor","global"),MP_ID=Bootstrapper.dataObject.getData("CustomerId","visitor","global"),UU_ID=Bootstrapper.Cookies.get("uuid"),isLoggedin=Bootstrapper.dataObject.getData("loggedIn","visitor","global");if(UU_ID&&(Cust_ID&&Cust_ID!==""&&Cust_ID!=="--"||MP_ID&&MP_ID!==""&&MP_ID!==
"--"||isLoggedin)){var dimensionValue=UU_ID+"|"+Cust_ID+"|"+MP_ID,prevVal=Bootstrapper.localS.utilities.__getData("plsPrf"),prevValArr=prevVal?prevVal.split("|"):[],i;for(i=0;i<prevValArr.length;i++)prevValArr[i]=Bootstrapper.base64Decode(prevValArr[i]);if(!prevVal||prevValArr[0]!==UU_ID||prevValArr[0]===UU_ID&&(prevValArr[1]!==Cust_ID||prevValArr[2]!==MP_ID||isLoggedin)){ga("send","event","Pulse Profile","Data Send",dimensionValue,{"nonInteraction":1,"dimension63":dimensionValue});var dimValArr=
dimensionValue.split("|"),cookieValue="";for(i=0;i<dimValArr.length;i++)dimValArr[i]=Bootstrapper.base64Encode(dimValArr[i]);cookieValue=dimValArr.join("|");Bootstrapper.localS.utilities.__setData("plsPrf",cookieValue,(new Date).getTime()+1E3*60*60*24*365)}}}var pth=document.location.pathname.toLowerCase(),srchRsltRevRegX=new RegExp(/\/ual\/[^\/]+\/[^\/]+\/flight-search\/book-a-flight\/results\/rev/),srchRsltRwdRegX=new RegExp(/\/ual\/[^\/]+\/[^\/]+\/flight-search\/book-a-flight\/results\/awd/);if(pth.match(srchRsltRevRegX)||
pth.match(srchRsltRwdRegX))if(Bootstrapper.dataObject&&Bootstrapper.dataObject.ajaxDatalayerLoaded&&Bootstrapper.dataObject.ajaxDatalayerLoaded===1)runDeployment();else $(window).on("ajaxDatalayerLoaded",function(){runDeployment()});else if(Bootstrapper.dataObject&&Bootstrapper.dataObject.dataLayerLoaded)runDeployment();else $(window).on("dataLayerLoaded",function(){runDeployment()})},1419367,[2011281,1933905],347870,[248942,288194]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var loop=0;function jQueryflag(){if(loop<=30)setTimeout(function(){if(typeof jQuery=="function"&&typeof $=="function"&&typeof $.prototype.on=="function")$("body").on("click","div.fare-wheel-item",function(){window.ga("send","event","Fare Wheel Click",$(this).find("div.fare-wheel-item-day").text()+" "+$(this).find("div.fare-wheel-item-fare").text(),"--",1,{"nonInteraction":1})});
else{loop=loop+1;jQueryflag()}},150);else return}jQueryflag()},1484884,[2011281],358692,[248942]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._cd_Exp={};Bootstrapper._cd_sentExp={};Bootstrapper._cd_unsentGA=[];Bootstrapper._cd_checkUnsentGA=function cd_checkUnsentGA(){if(Bootstrapper._cd_unsentGA.length>0)if(window.ga)while(Bootstrapper._cd_unsentGA.length>0){var tmpArr=Bootstrapper._cd_unsentGA[0];if(tmpArr&&tmpArr instanceof Array)window.ga(tmpArr[0],tmpArr[1],tmpArr[2],tmpArr[3],tmpArr[4],tmpArr[5]);
Bootstrapper._cd_unsentGA.shift()}else setTimeout(Bootstrapper._cd_checkUnsentGA,250)};Bootstrapper._cd_pageExp=function cd_siteExp(getParam,setParam,genInfo){var pageExperiences=genInfo&&genInfo.GenInfo?genInfo.GenInfo:{},hasChanged=false,combinedString="";for(var campaign in pageExperiences)if(pageExperiences.hasOwnProperty(campaign)){if(Bootstrapper._cd_Exp[campaign]!=pageExperiences[campaign]){hasChanged=true;Bootstrapper._cd_sentExp[campaign]=false}Bootstrapper._cd_Exp[campaign]=pageExperiences[campaign]}if(!hasChanged)return;
for(var testName in Bootstrapper._cd_Exp)if(Bootstrapper._cd_Exp.hasOwnProperty(testName)){var testString=testName+"\x3d",testDetails=Bootstrapper._cd_Exp[testName],elmCount=0;if(testDetails)for(var testElement in testDetails)if(testDetails.hasOwnProperty(testElement)){testString+=(elmCount>0?"|":"")+testElement+":"+testDetails[testElement];elmCount++}if(!Bootstrapper._cd_sentExp[testName])if(window.ga)window.ga("send","event","Maxymiser Tests",testName,testString,{"nonInteraction":1,"dimension41":testString});
else Bootstrapper._cd_unsentGA.push(["send","event","Maxymiser Tests",testName,testString,{"nonInteraction":1,"dimension41":testString}]);combinedString+="["+testString+"]";Bootstrapper._cd_sentExp[testName]=true}if(combinedString)if(window.ga)window.ga("send","event","Maxymiser Tests - Combined","Combined Experences",combinedString,{"nonInteraction":1,"dimension42":combinedString});else Bootstrapper._cd_unsentGA.push(["send","event","Maxymiser Tests - Combined","Combined Experences",combinedString,
{"nonInteraction":1,"dimension42":combinedString}]);Bootstrapper._cd_checkUnsentGA()};document.write("\x3cscr"+'ipt type\x3d"text/javascript" src\x3d"//service.maxymiser.net/cdn/united/js/mmcore.js"\x3e\x3c/sc'+"ript\x3e")},1723654,202698);
Bootstrapper.bindDOMLoaded(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var cutoffDate=(new Date("11/13/2015 9:00 CST")).getTime(),currDate=(new Date).getTime();if(currDate<cutoffDate)if($("div.footer-links:nth-child(2) \x3e ul:nth-child(1) \x3e li:nth-child(3) \x3e a:nth-child(1)").text()=="Privacy Policy")$("div.footer-links:nth-child(2) \x3e ul:nth-child(1) \x3e li:nth-child(3) \x3e a:nth-child(1)").text("Updated Privacy Policy")},1103879,
311705);Bootstrapper.getServerComponent(Bootstrapper.getExtraParams ? Bootstrapper.getExtraParams() : undefined);}})();